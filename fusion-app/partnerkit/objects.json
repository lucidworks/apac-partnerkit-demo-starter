{
  "objects" : {
    "collections" : [ {
      "id" : "partnerkit",
      "createdAt" : "2020-11-12T02:35:50.145Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2
      },
      "type" : "DATA",
      "metadata" : { }
    }, {
      "id" : "partnerkit_bpr_item_recs",
      "createdAt" : "2020-11-12T09:07:41.586Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_bpr_item_recs",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_bpr_user_recs",
      "createdAt" : "2020-11-12T09:07:25.209Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_bpr_user_recs",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_content_recs",
      "createdAt" : "2020-11-12T09:08:00.818Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_content_recs",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_items_for_item_recommendations",
      "createdAt" : "2020-11-12T09:07:33.651Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_items_for_item_recommendations",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_items_for_user_recommendations",
      "createdAt" : "2020-11-12T09:07:17.065Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_items_for_user_recommendations",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_job_reports",
      "createdAt" : "2020-11-12T02:35:50.145Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_job_reports",
        "numShards" : 1,
        "replicationFactor" : 1
      },
      "type" : "JOB_REPORTS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_queries_query_recs",
      "createdAt" : "2020-11-12T09:07:50.571Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_queries_query_recs",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_query_rewrite",
      "createdAt" : "2020-11-12T02:35:50.145Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_query_rewrite",
        "numShards" : 1,
        "replicationFactor" : 1,
        "configTemplate" : "solr/conf/query_rewrite.zip"
      },
      "type" : "QUERY_REWRITE",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_query_rewrite_staging",
      "createdAt" : "2020-11-12T02:35:50.145Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_query_rewrite_staging",
        "numShards" : 1,
        "replicationFactor" : 1,
        "configTemplate" : "solr/conf/query_rewrite.zip"
      },
      "type" : "QUERY_REWRITE",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_recommender_models",
      "createdAt" : "2020-11-12T09:07:09.031Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_recommender_models",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "metadata" : { }
    }, {
      "id" : "partnerkit_recs_aggr",
      "createdAt" : "2020-11-12T09:07:00.293Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_recs_aggr",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_signals",
      "createdAt" : "2020-11-12T02:35:58.452Z",
      "searchClusterId" : "default",
      "commitWithin" : 10,
      "solrParams" : {
        "name" : "partnerkit_signals",
        "numShards" : 2,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 4,
        "configTemplate" : "solr/conf/insights.zip"
      },
      "type" : "SIGNALS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_signals_aggr",
      "createdAt" : "2020-11-12T02:36:07.078Z",
      "searchClusterId" : "default",
      "commitWithin" : 10,
      "solrParams" : {
        "name" : "partnerkit_signals_aggr",
        "numShards" : 1,
        "replicationFactor" : 2,
        "maxShardsPerNode" : 2
      },
      "type" : "SIGNALS_AGGREGATION",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    }, {
      "id" : "partnerkit_user_prefs",
      "createdAt" : "2020-11-12T02:35:50.145Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "partnerkit_user_prefs",
        "numShards" : 1,
        "replicationFactor" : 1,
        "configTemplate" : "solr/conf/user_prefs.zip"
      },
      "type" : "USER_PREFS",
      "relatedCollectionId" : "partnerkit",
      "metadata" : { }
    } ],
    "indexPipelines" : [ {
      "id" : "partnerkit",
      "stages" : [ {
        "id" : "5e6f651b-6480-4958-af9b-4603856aaee7",
        "translationMappings" : [ ],
        "retentionMappings" : [ ],
        "updateMappings" : [ ],
        "unmappedRule" : {
          "keep" : true,
          "delete" : false,
          "fieldToMoveValuesTo" : "",
          "fieldToCopyValuesTo" : "",
          "valueToAddToUnmappedFields" : "",
          "valueToSetOnUnmappedFields" : ""
        },
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "5e6f651b-6480-4958-af9b-4603856aaee7"
      }, {
        "id" : "59441032-d0ff-485c-b04b-711c380a6eff",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "59441032-d0ff-485c-b04b-711c380a6eff"
      }, {
        "id" : "ad528842-5584-4783-9cc5-8c4e1fc9ee26",
        "enforceSchema" : true,
        "fieldsList" : false,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : true,
        "allowBlacklistedRequestParameters" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "ad528842-5584-4783-9cc5-8c4e1fc9ee26"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit"
      }
    }, {
      "id" : "partnerkit-question-answering",
      "stages" : [ {
        "id" : "1c8a1073-8f40-4aae-a59a-88778e5bb451",
        "translationMappings" : [ ],
        "retentionMappings" : [ ],
        "updateMappings" : [ ],
        "unmappedRule" : {
          "keep" : true,
          "delete" : false,
          "fieldToMoveValuesTo" : "",
          "fieldToCopyValuesTo" : "",
          "valueToAddToUnmappedFields" : "",
          "valueToSetOnUnmappedFields" : ""
        },
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "1c8a1073-8f40-4aae-a59a-88778e5bb451"
      }, {
        "id" : "d6ae9fc7-20d8-4ca7-8f1f-31b2e90e7d4e",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d6ae9fc7-20d8-4ca7-8f1f-31b2e90e7d4e"
      }, {
        "id" : "83bba8b9-4b84-446b-a4ee-c5747699f7fd",
        "modelId" : "change-me",
        "failOnError" : false,
        "storeInContext" : false,
        "inputScript" : "/* \nName of the document field to feed into the encoder. \n*/\nvar documentFeatureField = \"body_t\"\n\n/* \nModel input construction. \n*/\nvar modelInput = new java.util.HashMap()\nmodelInput.put(\"text\", doc.getFirstFieldValue(documentFeatureField))\nmodelInput.put(\"pipeline\", \"index\")\nmodelInput.put(\"compress\", \"true\")\nmodelInput.put(\"unidecode\", \"true\")\nmodelInput.put(\"lowercase\", \"false\")\n\nmodelInput",
        "outputScript" : "/*\nName of the field to store the compressed encoded vector in the document.\n\nCompressed vector field will be added to the document only if `compress = \"true\"` was \npassed into the `modelInput`.\n*/\nvar compressedVectorField = \"compressed_document_vector_s\"\n\n/*\nName of the field to store the uncompressed encoded vector in the document.\n\nBy default uncompressed vector wouldn't be added to the document. \nChange `keepUncompressedVector` to true if you want to keep uncompressed vector.  \n*/\nvar keepUncompressedVector = false\nvar vectorField = \"document_vector_ds\"\n\n/*\nClustering fields that keep cluster IDs and distances to the clusters.\nNOTE: Only models from the training module will provide clustering fields. \n*/\nvar clustersField = \"document_clusters_is\"\nvar distancesField = \"document_distances_ds\"\n\n/*\nVariable `numClusters` specifies how many top clusters should be kept for the document.\nThe value should be less or equal to the value in the training configuration. \nThe default value of 1 is a good choice for most cases.\n*/\nvar numClusters = 1\n\n/*\nModel output parsing.\n*/\nif (modelOutput.containsKey(\"compressed_vector\")) {\n  doc.addField(compressedVectorField, modelOutput.get(\"compressed_vector\")[0])\n}\n\nif (keepUncompressedVector) {\n  doc.addField(vectorField, modelOutput.get(\"vector\"))\n}\n\nif (numClusters > 0 && modelOutput.containsKey(\"clusters\")) {\n  doc.addField(clustersField, modelOutput.get(\"clusters\").subList(0, numClusters))\n  doc.addField(distancesField, modelOutput.get(\"distances\").subList(0, numClusters))\n}",
        "storePredictedFields" : false,
        "type" : "machine-learning",
        "skip" : false,
        "label" : "Question Answering Deep Encoding",
        "licensed" : true,
        "secretSourceStageId" : "83bba8b9-4b84-446b-a4ee-c5747699f7fd"
      }, {
        "id" : "f2b8b37b-5460-406a-9e4a-75df65f4e831",
        "enforceSchema" : true,
        "fieldsList" : false,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : true,
        "allowBlacklistedRequestParameters" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f2b8b37b-5460-406a-9e4a-75df65f4e831"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit-question-answering"
      }
    }, {
      "id" : "partnerkit-question-answering-dual-fields",
      "stages" : [ {
        "id" : "a773b37f-d90a-4724-a8c2-b08a5e30a637",
        "translationMappings" : [ ],
        "retentionMappings" : [ ],
        "updateMappings" : [ ],
        "unmappedRule" : {
          "keep" : true,
          "delete" : false,
          "fieldToMoveValuesTo" : "",
          "fieldToCopyValuesTo" : "",
          "valueToAddToUnmappedFields" : "",
          "valueToSetOnUnmappedFields" : ""
        },
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "a773b37f-d90a-4724-a8c2-b08a5e30a637"
      }, {
        "id" : "9805eeb1-5c2d-44d0-81bc-53a2850494a0",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "9805eeb1-5c2d-44d0-81bc-53a2850494a0"
      }, {
        "id" : "41fbdb2d-d63d-4a8b-aed6-a18965ed1065",
        "modelId" : "change-me",
        "failOnError" : false,
        "storeInContext" : false,
        "inputScript" : "/* \nName of the document field to feed into the encoder. \n*/\nvar documentFeatureField = \"question_t\"\n\n/* \nModel input construction. \n*/\nvar modelInput = new java.util.HashMap()\nmodelInput.put(\"text\", doc.getFirstFieldValue(documentFeatureField))\nmodelInput.put(\"pipeline\", \"index\")\nmodelInput.put(\"compress\", \"true\")\nmodelInput.put(\"unidecode\", \"true\")\nmodelInput.put(\"lowercase\", \"false\")\n\nmodelInput",
        "outputScript" : "/*\nName of the field to store the compressed encoded vector in the document.\n\nCompressed vector field will be added to the document only if `compress = \"true\"` was \npassed into the `modelInput`.\n*/\nvar compressedVectorField = \"compressed_question_vector_s\"\n\n/*\nName of the field to store the uncompressed encoded vector in the document.\n\nBy default uncompressed vector wouldn't be added to the document. \nChange `keepUncompressedVector` to true if you want to keep uncompressed vector.  \n*/\nvar keepUncompressedVector = false\nvar vectorField = \"question_vector_ds\"\n\n/*\nClustering fields that keep cluster IDs and distances to the clusters.\nNOTE: Only models from the training module will provide clustering fields. \n*/\nvar clustersField = \"question_clusters_is\"\nvar distancesField = \"question_distances_ds\"\n\n/*\nVariable `numClusters` specifies how many top clusters should be kept for the document.\nThe value should be less or equal to the value in the training configuration. \nThe default value of 1 is a good choice for most cases.\n*/\nvar numClusters = 1\n\n/*\nModel output parsing.\n*/\nif (modelOutput.containsKey(\"compressed_vector\")) {\n  doc.addField(compressedVectorField, modelOutput.get(\"compressed_vector\")[0])\n}\n\nif (keepUncompressedVector) {\n  doc.addField(vectorField, modelOutput.get(\"vector\"))\n}\n\nif (numClusters > 0 && modelOutput.containsKey(\"clusters\")) {\n  doc.addField(clustersField, modelOutput.get(\"clusters\").subList(0, numClusters))\n  doc.addField(distancesField, modelOutput.get(\"distances\").subList(0, numClusters))\n}",
        "storePredictedFields" : false,
        "type" : "machine-learning",
        "skip" : false,
        "label" : "Question Deep Encoding",
        "licensed" : true,
        "secretSourceStageId" : "41fbdb2d-d63d-4a8b-aed6-a18965ed1065"
      }, {
        "id" : "0a83808b-731d-46d8-8108-99be39a0a8eb",
        "modelId" : "change-me",
        "failOnError" : false,
        "storeInContext" : false,
        "inputScript" : "/* \nName of the document field to feed into the encoder. \n*/\nvar documentFeatureField = \"answer_t\"\n\n/* \nModel input construction. \n*/\nvar modelInput = new java.util.HashMap()\nmodelInput.put(\"text\", doc.getFirstFieldValue(documentFeatureField))\nmodelInput.put(\"pipeline\", \"index\")\nmodelInput.put(\"compress\", \"true\")\nmodelInput.put(\"unidecode\", \"true\")\nmodelInput.put(\"lowercase\", \"false\")\n\nmodelInput",
        "outputScript" : "/*\nName of the field to store the compressed encoded vector in the document.\n\nCompressed vector field will be added to the document only if `compress = \"true\"` was \npassed into the `modelInput`.\n*/\nvar compressedVectorField = \"compressed_answer_vector_s\"\n\n/*\nName of the field to store the uncompressed encoded vector in the document.\n\nBy default uncompressed vector wouldn't be added to the document. \nChange `keepUncompressedVector` to true if you want to keep uncompressed vector.  \n*/\nvar keepUncompressedVector = false\nvar vectorField = \"answer_vector_ds\"\n\n/*\nClustering fields that keep cluster IDs and distances to the clusters.\nNOTE: Only models from the training module will provide clustering fields. \n*/\nvar clustersField = \"answer_clusters_is\"\nvar distancesField = \"answer_distances_ds\"\n\n/*\nVariable `numClusters` specifies how many top clusters should be kept for the document.\nThe value should be less or equal to the value in the training configuration. \nThe default value of 1 is a good choice for most cases.\n*/\nvar numClusters = 1\n\n/*\nModel output parsing.\n*/\nif (modelOutput.containsKey(\"compressed_vector\")) {\n  doc.addField(compressedVectorField, modelOutput.get(\"compressed_vector\")[0])\n}\n\nif (keepUncompressedVector) {\n  doc.addField(vectorField, modelOutput.get(\"vector\"))\n}\n\nif (numClusters > 0 && modelOutput.containsKey(\"clusters\")) {\n  doc.addField(clustersField, modelOutput.get(\"clusters\").subList(0, numClusters))\n  doc.addField(distancesField, modelOutput.get(\"distances\").subList(0, numClusters))\n}",
        "storePredictedFields" : false,
        "type" : "machine-learning",
        "skip" : false,
        "label" : "Answer Deep Encoding",
        "licensed" : true,
        "secretSourceStageId" : "0a83808b-731d-46d8-8108-99be39a0a8eb"
      }, {
        "id" : "f145bba7-f666-4bee-b1a0-d3db534f7caf",
        "enforceSchema" : true,
        "fieldsList" : false,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : true,
        "allowBlacklistedRequestParameters" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f145bba7-f666-4bee-b1a0-d3db534f7caf"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit-question-answering-dual-fields"
      }
    }, {
      "id" : "partnerkit_query_rewrite_staging",
      "stages" : [ {
        "id" : "6df7c9d8-565d-4af7-b5b8-1ff2c32bfbab",
        "enforceSchema" : true,
        "fieldsList" : false,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : true,
        "allowBlacklistedRequestParameters" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "6df7c9d8-565d-4af7-b5b8-1ff2c32bfbab"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_query_rewrite_staging"
      }
    } ],
    "queryPipelines" : [ {
      "id" : "partnerkit",
      "stages" : [ {
        "id" : "f16b7245-d28d-47aa-b6f7-fa659f78fb4d",
        "fields" : [ "title_t", "body_t" ],
        "count" : 1,
        "length" : 100,
        "pre" : "<em>",
        "post" : "</em>",
        "defaultHighlight" : true,
        "type" : "highlight",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f16b7245-d28d-47aa-b6f7-fa659f78fb4d"
      }, {
        "id" : "e7141a2e-644a-4cb9-9c9e-c4cd936ed088",
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "LONGEST_DOMINANT_RIGHT",
        "params" : [ ],
        "maxWaitMs" : 500,
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "e7141a2e-644a-4cb9-9c9e-c4cd936ed088"
      }, {
        "id" : "38927c49-a08d-4f58-9cda-f19ffbb0def9",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        }, {
          "key" : "fq",
          "value" : "weight_d:[* TO *]"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "queryParamToBoost" : "q",
        "includeEnrichedQuery" : false,
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "38927c49-a08d-4f58-9cda-f19ffbb0def9"
      }, {
        "id" : "cb1013a6-327d-4e21-aa2c-6f99cc52750d",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ {
          "field" : "title_t",
          "boost" : 10.0
        }, {
          "field" : "body_t",
          "boost" : 5.0
        } ],
        "returnFields" : [ ],
        "returnScore" : false,
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "cb1013a6-327d-4e21-aa2c-6f99cc52750d"
      }, {
        "id" : "9101149f-6451-4c3b-8115-27895657a986",
        "fieldFacets" : [ {
          "field" : "_lw_data_source_s",
          "minCount" : 1,
          "missing" : false
        } ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "9101149f-6451-4c3b-8115-27895657a986",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "id" : "06a5cf80-7961-461b-8d1b-71a715078b09",
        "useOriginalQueryIfNoRulesMatch" : true,
        "matchPartialFilterQueries" : true,
        "handler" : "select",
        "method" : "POST",
        "ruleLimit" : "100",
        "params" : [ ],
        "hierarchicalFilter" : [ ],
        "headers" : [ ],
        "maxWaitMs" : 500,
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "06a5cf80-7961-461b-8d1b-71a715078b09"
      }, {
        "id" : "31b71573-8697-4986-8a0c-609538566bf6",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "31b71573-8697-4986-8a0c-609538566bf6"
      }, {
        "id" : "f83646ce-7a5d-4b4b-8aad-e2b7f584da80",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f83646ce-7a5d-4b4b-8aad-e2b7f584da80"
      }, {
        "id" : "06bdd40a-8e41-43e8-a512-e566bb8c4ca0",
        "script" : "function (request, response, ctx) {\n\n\t// Java import for exception\n\tvar e = java.lang.Exception;\n  var base64 = java.util.Base64;\n  \n  var encoder = base64.getEncoder().withoutPadding();\n\n\t// New list to contain documents\n\tvar newReturnDocs = [];\n\n\ttry {\n\t\t// Get documents from response \n\t\tvar returnDocs = response.getInnerResponse().getDocuments();\n\t\t\n\t\t// Iterate through the documents\n\t\tfor each (var doc in returnDocs) {\n\t\t\t// Get id\n\t\t\tvar id = doc.getField(\"id\");\n\n      // Encode id in base-64\n    \t//var encodedId = btoa(id);\n      var encodedId = encoder.encodeToString(id.getBytes());\n\n  \t\t// Add encoded id to doc\n    \tdoc.putField(\"encoded_id_s\", encodedId);\n\t\t\t\n\t\t\t// Logs api.log\n\t\t\t//logger.info(\"\\n\\n *****************\\n\" + \"Encoded ID: \" + encodedId +\"\\n *****************\\n\\n\");\n\t\t\t\n\t\t  newReturnDocs.push(doc);\n\n\t\t}\n\t\t// Update response with new document list\n\t\tresponse.getInnerResponse().updateDocuments(newReturnDocs);\n\t} catch (e) {\n\t\tlogger.error(e);\n\t}\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Encode ID field to use in URI query string",
        "licensed" : true,
        "secretSourceStageId" : "06bdd40a-8e41-43e8-a512-e566bb8c4ca0"
      } ],
      "properties" : {
        "supportedMode" : "all",
        "secretSourcePipelineId" : "partnerkit"
      }
    }, {
      "id" : "partnerkit-question-answering",
      "stages" : [ {
        "id" : "3efd17f7-b868-41d4-b3c2-6fcb45212a79",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ ],
        "returnFields" : [ "*", "compressed_document_vector_s", "document_clusters_is" ],
        "returnScore" : true,
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "3efd17f7-b868-41d4-b3c2-6fcb45212a79"
      }, {
        "id" : "5c97118e-c85c-49c2-8c71-e1efc8ff810c",
        "rowsFromSolrToRerank" : 500,
        "type" : "fusion-reranking",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "5c97118e-c85c-49c2-8c71-e1efc8ff810c"
      }, {
        "id" : "1d42fc48-3d11-4971-8af9-148e309a6332",
        "serviceId" : "ml-model-service",
        "modelId" : "change-me",
        "failOnError" : false,
        "inputScript" : "/* \nModel input construction. \n*/\nvar modelInput = new java.util.HashMap()\nmodelInput.put(\"text\", request.getFirstParam(\"q\"))\nmodelInput.put(\"pipeline\", \"query\")\nmodelInput.put(\"compress\", \"false\")\nmodelInput.put(\"unidecode\", \"true\")\nmodelInput.put(\"lowercase\", \"false\")\n\nmodelInput",
        "outputScript" : "/*\nDocument clusters Solr field name. If clustering is used then Filter Query is \nconstructed against this field to return all documents that have the same clusters as \nquery. This concept is similar to Inverted File Index (IVF).\n\nNOTE: Only models from the training module support clustering.\n*/\nvar documentClustersField = \"document_clusters_is\"\n\n/*\nVariable `numClusters` specifies how many top clusters should be used for each query.\nThe value should be less or equal to the value in the training configuration. \nBy default it's set to 0 which means that clustering isn't used. If you want to use \nclustering, value 10 is a good choice for most cases. \n*/\nvar numClusters = 0\n\n/*\nModel output parsing.\n*/\nvar queryVector = modelOutput.get(\"vector\").stream().mapToDouble(function(d){return d}).toArray()\ncontext.put(\"query_vector\", queryVector)\n\nif (numClusters > 0 && modelOutput.containsKey(\"clusters\")) {\n    clusters = Java.from(modelOutput.get(\"clusters\").subList(0, numClusters))\n    if (clusters.length > 1) {\n      fq = documentClustersField+\":(\"+clusters.join(' OR ')+\")\"\n    } else {\n      fq = documentClustersField+\":\"+clusters[0]\n    }\n    \n    request.putSingleParam(\"q\", \"*:*\")\n    request.addParam(\"fq\", fq)\n}",
        "type" : "ml-query",
        "skip" : false,
        "label" : "Query Encoding",
        "licensed" : true,
        "secretSourceStageId" : "1d42fc48-3d11-4971-8af9-148e309a6332",
        "requiredLicensedCapability" : "fusion.ai"
      }, {
        "id" : "8239d532-8366-4f49-98f8-28908ca56922",
        "inputParam" : "q",
        "stopWords" : "a,about,actual,actually,am,an,and,answer,any,anyone,anything,anyway,are,ask,asked,asking,at,away,based,basically,be,been,being,btw,by,can,consider,considered,could,did,do,does,doing,done,especially,essentially,etc,feel,find,for,found,from,generally,get,getting,give,given,giving,go,goes,gone,got,guess,had,happen,happened,happening,has,have,having,he,hello,help,hence,her,here,hers,hey,him,his,hope,hoped,however,i,I'd,i'm,'m,'ll,'d,ie,if,im,in,into,is,it,its,just,keeping,kept,knew,know,let,like,likely,list,look,looked,looking,makes,making,maybe,me,mention,mentioned,might,mind,much,my,need,needed,of,off,on,onto,otherwise,our,ours,out,perhaps,please,possible,possibly,pretty,probably,provide,provided,question,quite,rather,really,regard,regarding,relatively,said,saw,say,saying,search,searching,see,seeing,seem,seemed,seeming,seems,seen,select,she,should,show,simply,so,some,somehow,something,specifically,still,such,suggest,suggested,sure,take,taken,taking,tell,thank,thanks,that,the,their,them,then,there,thereby,therefore,therein,these,they,thing,think,thinking,this,those,though,thought,through,throughout,thru,thus,to,too,took,totally,toward,towards,tried,try,trying,up,upon,us,use,used,using,usually,very,via,want,wanted,was,we,went,were,what,will,wish,wished,with,within,wonder,wondering,would,yet,you,your,yours",
        "type" : "stop-filter-query-stage",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8239d532-8366-4f49-98f8-28908ca56922"
      }, {
        "id" : "198f016f-d0bd-4389-8b8c-efd2f0cb0e22",
        "inputParam" : "q",
        "type" : "query-escaping-query-stage",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "198f016f-d0bd-4389-8b8c-efd2f0cb0e22"
      }, {
        "id" : "9191c102-0b7a-4209-97f9-120ea5d546a3",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "9191c102-0b7a-4209-97f9-120ea5d546a3"
      }, {
        "id" : "301ef9ab-e70b-4702-b0f3-1bf6eaddff54",
        "queryVectorContextKey" : "query_vector",
        "documentVectorField" : "compressed_document_vector_s",
        "keepDocumentVectorField" : false,
        "distanceType" : "cosine_similarity",
        "documentDistanceResultField" : "vectors_distance",
        "failOnError" : false,
        "type" : "per-result-vectors-distance",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "301ef9ab-e70b-4702-b0f3-1bf6eaddff54",
        "requiredLicensedCapability" : "fusion.ai.qa"
      }, {
        "id" : "1b86ec77-bdd3-4f52-8e44-f7b535bcbd0e",
        "expression" : "0.3 * score / max_score + 0.7 * vectors_distance",
        "resultFieldName" : "ensemble_score",
        "type" : "response-math-expression",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "1b86ec77-bdd3-4f52-8e44-f7b535bcbd0e",
        "requiredLicensedCapability" : "fusion.ai.qa"
      }, {
        "id" : "7108b9d5-e0e7-4795-b991-b34717c5fb9d",
        "sortField" : "ensemble_score",
        "sortOrder" : "desc",
        "failOnError" : false,
        "type" : "result-doc-field-sorting",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7108b9d5-e0e7-4795-b991-b34717c5fb9d"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit-question-answering"
      }
    }, {
      "id" : "partnerkit-question-answering-dual-fields",
      "stages" : [ {
        "id" : "01066b6a-2ff5-453f-b6b0-6875fa5b9f41",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ ],
        "returnFields" : [ "*", "compressed_document_vector_s", "document_clusters_ss" ],
        "returnScore" : true,
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "01066b6a-2ff5-453f-b6b0-6875fa5b9f41"
      }, {
        "id" : "cc023990-73e8-4ba7-a872-f7f394fd8946",
        "rowsFromSolrToRerank" : 500,
        "type" : "fusion-reranking",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "cc023990-73e8-4ba7-a872-f7f394fd8946"
      }, {
        "id" : "431cd867-0db3-41a2-a420-7ab06a40dcb7",
        "serviceId" : "ml-model-service",
        "modelId" : "change-me",
        "failOnError" : false,
        "inputScript" : "/* \nModel input construction. \n*/\nvar modelInput = new java.util.HashMap()\nmodelInput.put(\"text\", request.getFirstParam(\"q\"))\nmodelInput.put(\"pipeline\", \"query\")\nmodelInput.put(\"compress\", \"false\")\nmodelInput.put(\"unidecode\", \"true\")\nmodelInput.put(\"lowercase\", \"false\")\n\nmodelInput",
        "outputScript" : "/*\nDocument clusters Solr field name. If clustering is used then Filter Query is \nconstructed against this field to return all documents that have the same clusters as \nquery. This concept is similar to Inverted File Index (IVF).\n\nNOTE: Only models from the training module support clustering.\n*/\nvar documentClustersField = \"question_clusters_is\"\n\n/*\nVariable `numClusters` specifies how many top clusters should be used for each query.\nThe value should be less or equal to the value in the training configuration. \nBy default it's set to 0 which means that clustering isn't used. If you want to use \nclustering, value 10 is a good choice for most cases. \n*/\nvar numClusters = 0\n\n/*\nModel output parsing.\n*/\nvar queryVector = modelOutput.get(\"vector\").stream().mapToDouble(function(d){return d}).toArray()\ncontext.put(\"query_vector\", queryVector)\n\nif (numClusters > 0 && modelOutput.containsKey(\"clusters\")) {\n    clusters = Java.from(modelOutput.get(\"clusters\").subList(0, numClusters))\n    if (clusters.length > 1) {\n      fq = documentClustersField+\":(\"+clusters.join(' OR ')+\")\"\n    } else {\n      fq = documentClustersField+\":\"+clusters[0]\n    }\n    \n    request.putSingleParam(\"q\", \"*:*\")\n    request.addParam(\"fq\", fq)\n}",
        "type" : "ml-query",
        "skip" : false,
        "label" : "Query Encoding",
        "licensed" : true,
        "secretSourceStageId" : "431cd867-0db3-41a2-a420-7ab06a40dcb7",
        "requiredLicensedCapability" : "fusion.ai"
      }, {
        "id" : "0aa58a76-27d1-4e52-a6ad-7760dfdf173b",
        "inputParam" : "q",
        "stopWords" : "a,about,actual,actually,am,an,and,answer,any,anyone,anything,anyway,are,ask,asked,asking,at,away,based,basically,be,been,being,btw,by,can,consider,considered,could,did,do,does,doing,done,especially,essentially,etc,feel,find,for,found,from,generally,get,getting,give,given,giving,go,goes,gone,got,guess,had,happen,happened,happening,has,have,having,he,hello,help,hence,her,here,hers,hey,him,his,hope,hoped,however,i,I'd,i'm,'m,'ll,'d,ie,if,im,in,into,is,it,its,just,keeping,kept,knew,know,let,like,likely,list,look,looked,looking,makes,making,maybe,me,mention,mentioned,might,mind,much,my,need,needed,of,off,on,onto,otherwise,our,ours,out,perhaps,please,possible,possibly,pretty,probably,provide,provided,question,quite,rather,really,regard,regarding,relatively,said,saw,say,saying,search,searching,see,seeing,seem,seemed,seeming,seems,seen,select,she,should,show,simply,so,some,somehow,something,specifically,still,such,suggest,suggested,sure,take,taken,taking,tell,thank,thanks,that,the,their,them,then,there,thereby,therefore,therein,these,they,thing,think,thinking,this,those,though,thought,through,throughout,thru,thus,to,too,took,totally,toward,towards,tried,try,trying,up,upon,us,use,used,using,usually,very,via,want,wanted,was,we,went,were,what,will,wish,wished,with,within,wonder,wondering,would,yet,you,your,yours",
        "type" : "stop-filter-query-stage",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "0aa58a76-27d1-4e52-a6ad-7760dfdf173b"
      }, {
        "id" : "9fc19dcb-0511-4d84-b53b-6dbed4e31865",
        "inputParam" : "q",
        "type" : "query-escaping-query-stage",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "9fc19dcb-0511-4d84-b53b-6dbed4e31865"
      }, {
        "id" : "f976e78e-58aa-4f76-a41c-7e6ac7b13e8d",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "f976e78e-58aa-4f76-a41c-7e6ac7b13e8d"
      }, {
        "id" : "672ff307-4267-4ba7-a91b-fde46107a8b4",
        "queryVectorContextKey" : "query_vector",
        "documentVectorField" : "compressed_question_vector_s",
        "keepDocumentVectorField" : false,
        "distanceType" : "cosine_similarity",
        "documentDistanceResultField" : "qq_distance",
        "failOnError" : false,
        "type" : "per-result-vectors-distance",
        "skip" : false,
        "label" : "QQ Vectors Distance",
        "licensed" : true,
        "secretSourceStageId" : "672ff307-4267-4ba7-a91b-fde46107a8b4",
        "requiredLicensedCapability" : "fusion.ai.qa"
      }, {
        "id" : "7bf03fe0-c9c1-4b97-bdfb-85928271b9f8",
        "queryVectorContextKey" : "query_vector",
        "documentVectorField" : "compressed_answer_vector_s",
        "keepDocumentVectorField" : false,
        "distanceType" : "cosine_similarity",
        "documentDistanceResultField" : "qa_distance",
        "failOnError" : false,
        "type" : "per-result-vectors-distance",
        "skip" : false,
        "label" : "QA Vectors Distance",
        "licensed" : true,
        "secretSourceStageId" : "7bf03fe0-c9c1-4b97-bdfb-85928271b9f8",
        "requiredLicensedCapability" : "fusion.ai.qa"
      }, {
        "id" : "16d7253a-4339-4897-b47d-c1c580c67657",
        "expression" : "0.2 * score / max_score + 0.4 * qq_distance + 0.4 * qa_distance",
        "resultFieldName" : "ensemble_score",
        "type" : "response-math-expression",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "16d7253a-4339-4897-b47d-c1c580c67657",
        "requiredLicensedCapability" : "fusion.ai.qa"
      }, {
        "id" : "ab4c3d35-343f-42f5-832f-bd9a1e2695d1",
        "sortField" : "ensemble_score",
        "sortOrder" : "desc",
        "failOnError" : false,
        "type" : "result-doc-field-sorting",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "ab4c3d35-343f-42f5-832f-bd9a1e2695d1"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit-question-answering-dual-fields"
      }
    }, {
      "id" : "partnerkit_content_recs",
      "stages" : [ {
        "id" : "2e4ce1d9-1731-4854-bd3f-f0995c1f34e0",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Recommended items",
        "responseSignalsEnabled" : false,
        "secretSourceStageId" : "2e4ce1d9-1731-4854-bd3f-f0995c1f34e0"
      }, {
        "id" : "fb1e115c-50b7-46e8-be48-f5b5db3c775c",
        "script" : "function (request, response, ctx) {\n  // var docs = response.getInnerResponse().getDocuments();\n  // var ids = docs.stream().map(function(doc) {\n  //   return doc.getField(\"otherItemId\");\n  // }).distinct().collect(java.util.stream.Collectors.joining(\",\"));\n  // //logger.info(\"IDS: \"+ids);\n  // request.putSingleParam(\"doc_ids\", ids);\n\n  var docs = response.getInnerResponse().getDocuments();\n  var newIdList = [];\n\n  docs.stream().forEach(function(doc) {\n    var id = doc.getField(\"otherItemId\");\n    newIdList.push(id);\n  });\n\n  request.putSingleParam(\"doc_ids\", newIdList);\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Prep main data lookup",
        "secretSourceStageId" : "fb1e115c-50b7-46e8-be48-f5b5db3c775c"
      }, {
        "id" : "43ce70ec-0a5b-4dba-89c3-6d1accd0d048",
        "key" : "subquery-documents",
        "collection" : "partnerkit",
        "handler" : "select",
        "method" : "POST",
        "parentParams" : [ "doc_ids" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "q",
          "value" : "{!terms f=\"id\" v=$doc_ids}"
        }, {
          "key" : "fl",
          "value" : "id,title_t,og_url_s,_lw_data_source_s,fileExtension_s"
        } ],
        "headers" : [ ],
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Documents",
        "secretSourceStageId" : "43ce70ec-0a5b-4dba-89c3-6d1accd0d048"
      }, {
        "id" : "fcbef55e-7184-4b55-8152-19a17ac600d5",
        "script" : "function (request, response, ctx) {\n  var subresults = [\"documents\"];\n  for(var i=0; i<subresults.length; i++){\n    var results = ctx.get(\"subquery-\"+subresults[i]).response.docs;\n\n    var docs = response.getInnerResponse().getDocuments();\n\n    docs.stream().forEach(function(doc) {\n      var id = doc.getField(\"otherItemId\");\n      if(id){\n        var idOptional = results.stream().filter(function(result) {\n          return id.equals(result.get(\"id\"));\n        }).findFirst();\n        if(idOptional.isPresent()) {\n          idOptional.get().entrySet().stream().forEach(function(entry) {\n            doc.putField(entry.getKey(), entry.getValue());\n          });\n        }\n      }\n    });\n    \n    response.getInnerResponse().updateDocuments(docs);\n  }\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Join documents with recommendations",
        "secretSourceStageId" : "fcbef55e-7184-4b55-8152-19a17ac600d5"
      }, {
        "id" : "aac289c8-ad0b-4c99-9175-0af05a06eca1",
        "script" : "function (request, response, ctx) {\n\n\t// Java import for exception\n\tvar e = java.lang.Exception;\n  var base64 = java.util.Base64;\n  \n  var encoder = base64.getEncoder().withoutPadding();\n\n\t// New list to contain documents\n\tvar newReturnDocs = [];\n\n\ttry {\n\t\t// Get documents from response \n\t\tvar returnDocs = response.getInnerResponse().getDocuments();\n\t\t\n\t\t// Iterate through the documents\n\t\tfor each (var doc in returnDocs) {\n\t\t\t// Get id\n\t\t\tvar id = doc.getField(\"id\");\n\n      // Encode id in base-64\n    \t//var encodedId = btoa(id);\n      var encodedId = encoder.encodeToString(id.getBytes());\n\n  \t\t// Add encoded id to doc\n    \tdoc.putField(\"encoded_id_s\", encodedId);\n\t\t\t\n\t\t\t// Logs api.log\n\t\t\t//logger.info(\"\\n\\n *****************\\n\" + \"Encoded ID: \" + encodedId +\"\\n *****************\\n\\n\");\n\t\t\t\n\t\t  newReturnDocs.push(doc);\n\n\t\t}\n\t\t// Update response with new document list\n\t\tresponse.getInnerResponse().updateDocuments(newReturnDocs);\n\t} catch (e) {\n\t\tlogger.error(e);\n\t}\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Encode ID field to use in URI query string",
        "secretSourceStageId" : "aac289c8-ad0b-4c99-9175-0af05a06eca1"
      } ],
      "properties" : {
        "supportedMode" : "all",
        "secretSourcePipelineId" : "partnerkit_content_recs"
      }
    }, {
      "id" : "partnerkit_items_for_item_bpr_recommendations",
      "stages" : [ {
        "id" : "bgg",
        "fieldFacets" : [ {
          "field" : "itemId",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "itemUniqueClicksCount",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "otherItemId",
          "minCount" : 1,
          "missing" : false
        } ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "secretSourceStageId" : "bgg",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "id" : "a4e06b3f-7dd6-466a-bd46-86eb8d29e895",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Recommended items",
        "responseSignalsEnabled" : false,
        "secretSourceStageId" : "a4e06b3f-7dd6-466a-bd46-86eb8d29e895"
      }, {
        "id" : "b3622508-f832-4d45-bfc6-11cce9be3f5a",
        "script" : "function (request, response, ctx) {\n  with (DSL) {\n    var docs = response.getInnerResponse().getDocuments();\n    var ids = docs.stream().map(function(doc) {\n      return doc.getField(\"otherItemId\");\n    }).distinct().collect(java.util.stream.Collectors.joining(\",\"));\n    //logger.info(\"IDS: \"+ids);\n    request.putSingleParam(\"doc_ids\", ids);\n  }\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Prep main data lookup",
        "secretSourceStageId" : "b3622508-f832-4d45-bfc6-11cce9be3f5a"
      }, {
        "id" : "2b5a3e23-a884-443f-b562-38c0f3daa9a7",
        "key" : "subquery-documents",
        "collection" : "partnerkit",
        "handler" : "select",
        "method" : "POST",
        "parentParams" : [ "doc_ids" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "q",
          "value" : "{!terms f=\"id\" v=$doc_ids}"
        }, {
          "key" : "fl",
          "value" : "id,title_t,og_url_s,_lw_data_source_s,fileExtension_s"
        } ],
        "headers" : [ ],
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Documents",
        "secretSourceStageId" : "2b5a3e23-a884-443f-b562-38c0f3daa9a7"
      }, {
        "id" : "6d16db56-53aa-480e-9d37-d1a5805aa1f4",
        "script" : "function (request, response, ctx) {\n  var subresults = [\"documents\"];\n  for(var i=0; i<subresults.length; i++){\n    var results = ctx.get(\"subquery-\"+subresults[i]).response.docs;\n\n    var docs = response.getInnerResponse().getDocuments();\n\n    docs.stream().forEach(function(doc) {\n      var id = doc.getField(\"otherItemId\");\n      if(id){\n        var idOptional = results.stream().filter(function(result) {\n          return id.equals(result.get(\"id\"));\n        }).findFirst();\n        if(idOptional.isPresent()) {\n          idOptional.get().entrySet().stream().forEach(function(entry) {\n            doc.putField(entry.getKey(), entry.getValue());\n          });\n        }\n      }\n    });\n    \n    response.getInnerResponse().updateDocuments(docs);\n  }\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Join documents with recommendations",
        "secretSourceStageId" : "6d16db56-53aa-480e-9d37-d1a5805aa1f4"
      } ],
      "properties" : {
        "supportedMode" : "all",
        "secretSourcePipelineId" : "partnerkit_items_for_item_bpr_recommendations"
      }
    }, {
      "id" : "partnerkit_items_for_item_recommendations",
      "stages" : [ {
        "id" : "item-rec",
        "numRecommendations" : 10,
        "modelID" : "partnerkit_recommender",
        "collection" : "partnerkit_items_for_item_recommendations",
        "itemIdParam" : "item_id",
        "resultsLocation" : "As Boosts",
        "itemIdField" : "itemId",
        "otherItemIdField" : "otherItemId",
        "similarityScoreField" : "sim",
        "modelIdField" : "modelId",
        "scaleRange" : {
          "scaleMin" : 5.0,
          "scaleMax" : 15.0
        },
        "foldInUpdates" : true,
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "boostFieldName" : "id",
        "routingParams" : [ ],
        "type" : "item-recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "item-rec"
      }, {
        "id" : "3de9ad5d-d75a-47c6-b5b0-cba863c5b08c",
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "LONGEST_DOMINANT_RIGHT",
        "params" : [ ],
        "maxWaitMs" : 500,
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "3de9ad5d-d75a-47c6-b5b0-cba863c5b08c"
      }, {
        "id" : "82fa2969-a89e-4dfe-a600-cc481d97f190",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "scaleRange" : {
          "scaleMin" : 1.1,
          "scaleMax" : 5.0
        },
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        }, {
          "key" : "fq",
          "value" : "weight_d:[* TO *]"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "queryParamToBoost" : "q",
        "includeEnrichedQuery" : false,
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "82fa2969-a89e-4dfe-a600-cc481d97f190"
      }, {
        "id" : "021f82a0-91ef-4df8-a36f-4f5aa440d229",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ ],
        "returnFields" : [ ],
        "returnScore" : false,
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "021f82a0-91ef-4df8-a36f-4f5aa440d229"
      }, {
        "id" : "62d0de10-630a-4115-bb05-eb42109fe9ee",
        "fieldFacets" : [ ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "62d0de10-630a-4115-bb05-eb42109fe9ee"
      }, {
        "id" : "e318e7fc-9e81-45dd-bc39-2722bc1d81ca",
        "useOriginalQueryIfNoRulesMatch" : true,
        "matchPartialFilterQueries" : true,
        "handler" : "select",
        "method" : "POST",
        "ruleLimit" : "100",
        "params" : [ ],
        "hierarchicalFilter" : [ ],
        "headers" : [ ],
        "maxWaitMs" : 500,
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "e318e7fc-9e81-45dd-bc39-2722bc1d81ca"
      }, {
        "id" : "3c3cc60e-48a6-483d-9f58-5cc73c06c547",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "3c3cc60e-48a6-483d-9f58-5cc73c06c547"
      }, {
        "id" : "06dcd699-e57e-4f5e-81c8-c0f804faf5e6",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "06dcd699-e57e-4f5e-81c8-c0f804faf5e6"
      } ],
      "properties" : {
        "supportedMode" : "all",
        "secretSourcePipelineId" : "partnerkit_items_for_item_recommendations"
      }
    }, {
      "id" : "partnerkit_items_for_user_bpr_recommendations",
      "stages" : [ {
        "id" : "e375583b-f330-4a1f-a1d7-a692d259c2d7",
        "script" : "function (request, response, ctx) {\n  request.addParam('fq','userId:'+request.getFirstParam('username'));\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Set user filter",
        "condition" : "\"true\".equals(request.getFirstParam(\"filter.user_id\"))",
        "licensed" : true,
        "secretSourceStageId" : "e375583b-f330-4a1f-a1d7-a692d259c2d7"
      }, {
        "id" : "1398f473-f67b-483a-bc2c-9efd181b0635",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Recommended items",
        "responseSignalsEnabled" : false,
        "secretSourceStageId" : "1398f473-f67b-483a-bc2c-9efd181b0635"
      }, {
        "id" : "a40272ab-5e68-4c8d-8f64-63fb83ab69b9",
        "script" : "function (request, response, ctx) {\n  with (DSL) {\n    var docs = response.getInnerResponse().getDocuments();\n    var ids = docs.stream().map(function(doc) {\n      return doc.getField(\"itemId\");\n    }).distinct().collect(java.util.stream.Collectors.joining(\",\"));\n    //logger.info(\"IDS: \"+ids);\n    request.putSingleParam(\"doc_ids\", ids);\n  }\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Prep main data lookup",
        "secretSourceStageId" : "a40272ab-5e68-4c8d-8f64-63fb83ab69b9"
      }, {
        "id" : "caa7dc63-b5ae-4728-8c16-cb21b102da80",
        "key" : "subquery-documents",
        "collection" : "partnerkit",
        "handler" : "select",
        "method" : "POST",
        "parentParams" : [ "doc_ids" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "q",
          "value" : "{!terms f=\"id\" v=$doc_ids}"
        }, {
          "key" : "fl",
          "value" : "id,title_t,og_url_s,_lw_data_source_s,fileExtension_s"
        } ],
        "headers" : [ ],
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Documents",
        "secretSourceStageId" : "caa7dc63-b5ae-4728-8c16-cb21b102da80"
      }, {
        "id" : "486008d8-e7f5-4536-bc62-8f17bf680a39",
        "script" : "function (request, response, ctx) {\n  var subresults = [\"documents\"];\n  for(var i=0; i<subresults.length; i++){\n    var results = ctx.get(\"subquery-\"+subresults[i]).response.docs;\n\n    var docs = response.getInnerResponse().getDocuments();\n\n    docs.stream().forEach(function(doc) {\n      var id = doc.getField(\"itemId\");\n      if(id){\n        var idOptional = results.stream().filter(function(result) {\n          return id.equals(result.get(\"id\"));\n        }).findFirst();\n        if(idOptional.isPresent()) {\n          idOptional.get().entrySet().stream().forEach(function(entry) {\n            doc.putField(entry.getKey(), entry.getValue());\n          });\n        }\n      }\n    });\n    \n    response.getInnerResponse().updateDocuments(docs);\n  }\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Join documents with recommendations",
        "secretSourceStageId" : "486008d8-e7f5-4536-bc62-8f17bf680a39"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_items_for_user_bpr_recommendations"
      }
    }, {
      "id" : "partnerkit_items_for_user_recommendations",
      "stages" : [ {
        "id" : "48c3f169-f799-4ad5-813e-d55775cd78c2",
        "numRecommendations" : 10,
        "modelID" : "partnerkit_recommender",
        "collection" : "partnerkit_bpr_user_recs",
        "userIdParam" : "username",
        "resultsLocation" : "As Boosts",
        "userIdField" : "userId",
        "itemIdField" : "itemId",
        "weightField" : "weight",
        "modelIdField" : "modelId",
        "scaleRange" : {
          "scaleMin" : 5.0,
          "scaleMax" : 15.0
        },
        "foldInUpdates" : true,
        "rawSignalsCollection" : "partnerkit_signals",
        "modelCollection" : "partnerkit_recommender_models",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "boostFieldName" : "id",
        "routingParams" : [ ],
        "type" : "user-recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "48c3f169-f799-4ad5-813e-d55775cd78c2"
      }, {
        "id" : "6d3e5ebe-83d6-451e-aa60-7dfcdcc1fd95",
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "LONGEST_DOMINANT_RIGHT",
        "params" : [ ],
        "maxWaitMs" : 500,
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "6d3e5ebe-83d6-451e-aa60-7dfcdcc1fd95"
      }, {
        "id" : "12da40fd-5230-4f1d-9f0e-9abe207f6432",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "scaleRange" : {
          "scaleMin" : 1.1,
          "scaleMax" : 5.0
        },
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        }, {
          "key" : "fq",
          "value" : "weight_d:[* TO *]"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "queryParamToBoost" : "q",
        "includeEnrichedQuery" : false,
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "12da40fd-5230-4f1d-9f0e-9abe207f6432"
      }, {
        "id" : "7a033111-c166-43ed-8f2e-21939533fc3b",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ ],
        "returnFields" : [ ],
        "returnScore" : false,
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7a033111-c166-43ed-8f2e-21939533fc3b"
      }, {
        "id" : "20747717-2119-4d85-b528-9a4efd80c7ca",
        "fieldFacets" : [ ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "20747717-2119-4d85-b528-9a4efd80c7ca"
      }, {
        "id" : "bcdfe7cd-d050-46ea-8074-fa493a1a3878",
        "useOriginalQueryIfNoRulesMatch" : true,
        "matchPartialFilterQueries" : true,
        "handler" : "select",
        "method" : "POST",
        "ruleLimit" : "100",
        "params" : [ ],
        "hierarchicalFilter" : [ ],
        "headers" : [ ],
        "maxWaitMs" : 500,
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "bcdfe7cd-d050-46ea-8074-fa493a1a3878"
      }, {
        "id" : "9fc6b300-febf-4839-91f7-25b7851d85e8",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "9fc6b300-febf-4839-91f7-25b7851d85e8"
      }, {
        "id" : "6d9dafac-d638-44ad-9768-49735deba322",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "6d9dafac-d638-44ad-9768-49735deba322"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_items_for_user_recommendations"
      }
    }, {
      "id" : "partnerkit_queries_query_recs",
      "stages" : [ {
        "id" : "2fab3fec-4b11-44e1-a70e-06c0db256921",
        "rows" : 10,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ {
          "field" : "query_t"
        } ],
        "returnFields" : [ ],
        "returnScore" : true,
        "type" : "search-fields",
        "skip" : false,
        "secretSourceStageId" : "2fab3fec-4b11-44e1-a70e-06c0db256921"
      }, {
        "id" : "577302bc-fbb7-4cd1-9864-8e7f06e10c7b",
        "fieldFacets" : [ {
          "field" : "query_t",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "recommendation_t",
          "minCount" : 1,
          "missing" : false
        } ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "577302bc-fbb7-4cd1-9864-8e7f06e10c7b",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "id" : "0fb84732-23cb-42ca-9a05-4148a24ae41a",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "0fb84732-23cb-42ca-9a05-4148a24ae41a"
      }, {
        "id" : "a7e4f024-7c9f-4266-845f-19ba097c01e6",
        "script" : "function(request, response, ctx) {\n\n  var qParam = request.getFirstParam(\"q\");\n  var docs = response.getInnerResponse().getDocuments();\n  var newDocs = [];\n\n  docs.stream().forEach(function(doc) {\n    var query = doc.getField(\"query_t\");\n    \n    // Add recommendations only where query_t field value is exact string match for q parameter\n    if(query == qParam) {\n      newDocs.push(doc);\n    }\n\n  });\n  response.getInnerResponse().updateDocuments(newDocs);\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Remove duplicate query recommendations",
        "secretSourceStageId" : "a7e4f024-7c9f-4266-845f-19ba097c01e6"
      } ],
      "properties" : {
        "supportedMode" : "all",
        "secretSourcePipelineId" : "partnerkit_queries_query_recs"
      }
    }, {
      "id" : "partnerkit_signals_clicks_by_user",
      "stages" : [ {
        "id" : "86703485-0880-4145-806a-58fb7654504f",
        "script" : "function (request, response, ctx) {\n  request.addParam('fq','user_id:'+request.getFirstParam('username'));\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Set user filter",
        "condition" : "\"true\".equals(request.getFirstParam(\"filter.user_id\"))",
        "licensed" : true,
        "secretSourceStageId" : "86703485-0880-4145-806a-58fb7654504f"
      }, {
        "id" : "9e5b1f4a-2569-454d-98cf-804638cf7ac0",
        "params" : [ {
          "key" : "fq",
          "value" : "type:click",
          "policy" : "append"
        }, {
          "key" : "fl",
          "value" : "doc_id,user_id,query",
          "policy" : "replace"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Use click type signals only",
        "licensed" : true,
        "secretSourceStageId" : "9e5b1f4a-2569-454d-98cf-804638cf7ac0"
      }, {
        "id" : "e670220a-bdd1-44b4-9435-44fec51491e5",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Signals",
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "e670220a-bdd1-44b4-9435-44fec51491e5"
      }, {
        "id" : "4b6f77d1-6030-4a39-9d99-3bf3f7ade721",
        "script" : "function (request, response, ctx) {\n    var docs = response.getInnerResponse().getDocuments();\n  var ids = docs.stream().map(function(doc) {\n    return doc.getField(\"doc_id\");\n  }).distinct().collect(java.util.stream.Collectors.joining(\",\"));\n  //logger.info(\"IDS: \"+ids);\n  request.putSingleParam(\"doc_ids\", ids);\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Prep main data lookup",
        "licensed" : true,
        "secretSourceStageId" : "4b6f77d1-6030-4a39-9d99-3bf3f7ade721"
      }, {
        "id" : "77d367ce-77eb-4142-9f7f-48923e97556f",
        "key" : "subquery-documents",
        "collection" : "partnerkit",
        "handler" : "select",
        "method" : "POST",
        "parentParams" : [ "doc_ids", "rows" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "q",
          "value" : "{!terms f=\"id\" v=$doc_ids}"
        }, {
          "key" : "fl",
          "value" : "id,title_t,og_url_s,_lw_data_source_s,fileExtension_s"
        }, {
          "key" : "rows",
          "value" : "${rows}"
        } ],
        "headers" : [ ],
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Documents",
        "licensed" : true,
        "secretSourceStageId" : "77d367ce-77eb-4142-9f7f-48923e97556f"
      }, {
        "id" : "c157dd90-6e6d-4c21-8e56-d860601b72df",
        "script" : "function(request, response, ctx) {\n  var subresults = [\"documents\"];\n  for(var i=0; i<subresults.length; i++){\n    var results = ctx.get(\"subquery-\"+subresults[i]).response.docs;\n\n    var docs = response.getInnerResponse().getDocuments();\n\n    docs.stream().forEach(function(doc) {\n      var id = doc.getField(\"doc_id\");\n      if(id){\n        var idOptional = results.stream().filter(function(result) {\n          return id.equals(result.get(\"id\"));\n        }).findFirst();\n        if(idOptional.isPresent()) {\n          idOptional.get().entrySet().stream().forEach(function(entry) {\n            doc.putField(entry.getKey(), entry.getValue());\n          });\n        }\n      }\n    });\n    \n    response.getInnerResponse().updateDocuments(docs);\n  }\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Join document data with signals",
        "secretSourceStageId" : "c157dd90-6e6d-4c21-8e56-d860601b72df"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_signals_clicks_by_user"
      }
    }, {
      "id" : "partnerkit_signals_documents",
      "stages" : [ {
        "id" : "5106962b-e10b-4f7a-a0f1-52e60aa864a5",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Signals",
        "responseSignalsEnabled" : false,
        "secretSourceStageId" : "5106962b-e10b-4f7a-a0f1-52e60aa864a5"
      }, {
        "id" : "bd2aa94c-924b-4881-9f37-74946585dad9",
        "script" : "function (request, response, ctx) {\n  with (DSL) {\n    var docs = response.getInnerResponse().getDocuments();\n    var ids = docs.stream().map(function(doc) {\n      return doc.getField(\"doc_id_s\");\n    }).distinct().collect(java.util.stream.Collectors.joining(\",\"));\n    //logger.info(\"IDS: \"+ids);\n    request.putSingleParam(\"doc_ids\", ids);\n  }\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Prep main data lookup",
        "secretSourceStageId" : "bd2aa94c-924b-4881-9f37-74946585dad9"
      }, {
        "id" : "8f87b31c-fc4c-4a37-871a-9aaf53fe48e6",
        "key" : "subquery-documents",
        "collection" : "partnerkit",
        "handler" : "select",
        "method" : "POST",
        "parentParams" : [ "doc_ids" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "q",
          "value" : "{!terms f=\"id\" v=$doc_ids}"
        }, {
          "key" : "fl",
          "value" : "id,title_t,og_url_s,_lw_data_source_s,fileExtension_s"
        } ],
        "headers" : [ ],
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Documents",
        "secretSourceStageId" : "8f87b31c-fc4c-4a37-871a-9aaf53fe48e6"
      }, {
        "id" : "78e91f48-7825-4e68-97cb-f2f9dc8e43ee",
        "script" : "function (request, response, ctx) {\n  var subresults = [\"documents\"];\n  for(var i=0; i<subresults.length; i++){\n    var results = ctx.get(\"subquery-\"+subresults[i]).response.docs;\n\n    var docs = response.getInnerResponse().getDocuments();\n\n    docs.stream().forEach(function(doc) {\n      var id = doc.getField(\"doc_id_s\");\n      if(id){\n        var idOptional = results.stream().filter(function(result) {\n          return id.equals(result.get(\"id\"));\n        }).findFirst();\n        if(idOptional.isPresent()) {\n          idOptional.get().entrySet().stream().forEach(function(entry) {\n            doc.putField(entry.getKey(), entry.getValue());\n          });\n        }\n      }\n    });\n    \n    response.getInnerResponse().updateDocuments(docs);\n  }\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Join Documents and Signals",
        "secretSourceStageId" : "78e91f48-7825-4e68-97cb-f2f9dc8e43ee"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_signals_documents"
      }
    }, {
      "id" : "partnerkit_signals_queries_by_user",
      "stages" : [ {
        "id" : "82283477-b848-48c3-a618-75a454a62dd5",
        "script" : "function (request, response, ctx) {\n  request.addParam('fq','user_id:'+request.getFirstParam('username'));\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Set User Filter",
        "condition" : "\"true\".equals(request.getFirstParam(\"filter.user_id\"))",
        "licensed" : true,
        "secretSourceStageId" : "82283477-b848-48c3-a618-75a454a62dd5"
      }, {
        "id" : "7e5561dd-9645-4c1b-a849-bea2029f084d",
        "params" : [ {
          "key" : "fq",
          "value" : "type:request",
          "policy" : "append"
        }, {
          "key" : "fl",
          "value" : "query_orig_s,query",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Filter signal type",
        "licensed" : true,
        "secretSourceStageId" : "7e5561dd-9645-4c1b-a849-bea2029f084d"
      }, {
        "id" : "28850db5-86bc-4676-b631-3333f4144278",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "28850db5-86bc-4676-b631-3333f4144278"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_signals_queries_by_user"
      }
    }, {
      "id" : "partnerkit_signals_query_facet",
      "stages" : [ {
        "id" : "9938a1d0-df79-4827-b7be-c4ad8102e5fd",
        "params" : [ {
          "key" : "fq",
          "value" : "type:request",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Filter signal type for tagcloud",
        "licensed" : true,
        "secretSourceStageId" : "9938a1d0-df79-4827-b7be-c4ad8102e5fd"
      }, {
        "id" : "dc2bd5a4-d5d4-4888-a08b-c739845dbbef",
        "fieldFacets" : [ {
          "field" : "{!key=query_alias}query_orig_s",
          "minCount" : 1,
          "missing" : false
        } ],
        "rangeFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "label" : "Set facet required for AS tagcloud widget",
        "licensed" : true,
        "secretSourceStageId" : "dc2bd5a4-d5d4-4888-a08b-c739845dbbef"
      }, {
        "id" : "898ab7da-8b86-4d89-a54d-0425b9154933",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "898ab7da-8b86-4d89-a54d-0425b9154933"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_signals_query_facet"
      }
    }, {
      "id" : "partnerkit_typeahead",
      "stages" : [ {
        "id" : "1e4a93ed-f541-4724-a343-051e5b5ac2ab",
        "script" : "function(request) {\n  request.putSingleParam(\"signal_q\", request.getFirstParam(\"q\"));\n}",
        "shareState" : true,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Set query parameter for subqueries",
        "licensed" : true,
        "secretSourceStageId" : "1e4a93ed-f541-4724-a343-051e5b5ac2ab"
      }, {
        "id" : "bd31500b-84a4-42aa-9785-3af1e34d9a64",
        "key" : "subquery-queries",
        "collection" : "partnerkit_recs_aggr",
        "handler" : "select",
        "method" : "GET",
        "parentParams" : [ "signal_q", "rows" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "fq",
          "value" : "aggr_type_s:click@query,user_id"
        }, {
          "key" : "q",
          "value" : "{!edismax df=\"query_t\" v=$signal_q}"
        }, {
          "key" : "fl",
          "value" : "query_t,aggr_type_s"
        }, {
          "key" : "sort",
          "value" : "weight_d desc"
        } ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : true,
          "asyncId" : "searchhistory"
        },
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Signals",
        "licensed" : true,
        "secretSourceStageId" : "bd31500b-84a4-42aa-9785-3af1e34d9a64"
      }, {
        "id" : "65bf66bb-0cbf-4b6e-9fb2-ce077544a33b",
        "rows" : 0,
        "start" : 0,
        "sortOrder" : [ ],
        "queryFields" : [ {
          "field" : "title_t"
        }],
        "returnFields" : [ "title_t", "og_url_s", "_lw_data_source_s" ],
        "returnScore" : false,
        "type" : "search-fields",
        "skip" : false,
        "label" : "Query parameters for Main query",
        "licensed" : true,
        "secretSourceStageId" : "65bf66bb-0cbf-4b6e-9fb2-ce077544a33b"
      }, {
        "id" : "f3a39f01-a521-4f02-b4a0-f8bf671b387a",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "label" : "Get Documents",
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "f3a39f01-a521-4f02-b4a0-f8bf671b387a"
      }, {
        "id" : "48527961-1f1e-4933-9551-693090cccc3d",
        "asyncStageIds" : [ "searchhistory" ],
        "timeoutMs" : 1000,
        "failFast" : false,
        "strictAsyncIds" : true,
        "type" : "join",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "48527961-1f1e-4933-9551-693090cccc3d"
      }, {
        "id" : "798dd8fc-fbfd-4be7-904e-8b3a93498bd8",
        "script" : "function(request, response, ctx) {\n  var e = java.lang.Exception;\n  var base64 = java.util.Base64;\n  var encoder = base64.getEncoder();\n\n  var returnDocs = response.getInnerResponse().getDocuments();\n  var newReturnDocs = [];\n  var signals = [];\n  var exclude = false;\n\n  // 1. Add a new field 'typeahead_type' for every document\n\tfor each (var doc in returnDocs) {\n\t\tvar id = doc.getField(\"id\"); // Get document id\n    var encodedId = encoder.encodeToString(id.getBytes()); // Encode id in base-64\n    \n    doc.putField(\"encoded_id_s\", encodedId); // Add encoded id to doc\n    doc.putField(\"typeahead_type\", \"document\");\n    newReturnDocs.push(doc);\n  }\n  \n  // 2. Iterate through each document in the subquery responses\n  //    and add typeahead_type field with appropriate value\n  ctx.entrySet().stream().filter(function(entry) {\n    return entry.getKey().startsWith(\"subquery-\");\n  }).forEach(function(results) {\n    results.getValue().response.docs.forEach(function(doc) {\n      var newDoc = new com.lucidworks.apollo.solr.response.ResponseDocument(doc, returnDocs.size());\n      if(newDoc.getField(\"aggr_type_s\")){\n        newDoc.putField(\"typeahead_type\",\"query\");\n\n        // Do not add duplicate signals\n        var query = newDoc.getField(\"query_t\");\n        if(signals.indexOf(query) > 0) {\n          exclude = true;\n        } else {\n          signals.push(query);\n        }\n      }\n      if(exclude == true) {\n        exclude = false;\n      } else {\n        newReturnDocs.push(newDoc);\n      }\n      \n    });\n  });\n  \n  response.getInnerResponse().updateDocuments(newReturnDocs);\n}\n",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Add subquery docs to response",
        "licensed" : true,
        "secretSourceStageId" : "798dd8fc-fbfd-4be7-904e-8b3a93498bd8"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_typeahead"
      }
    }, {
      "id" : "partnerkit_user_filter",
      "stages" : [ {
        "id" : "16407c1b-bca8-48dd-8052-e9ebb776231a",
        "script" : "function (request, response, ctx) {\n  request.addParam('fq','user_id_s:'+request.getFirstParam('username'));\n}",
        "shareState" : false,
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Set User Filter",
        "condition" : "\"true\".equals(request.getFirstParam(\"filter.user_id\"));",
        "licensed" : true,
        "secretSourceStageId" : "16407c1b-bca8-48dd-8052-e9ebb776231a"
      }, {
        "id" : "2df99af5-bd29-4270-b0e8-0454b3a225eb",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "preferredReplicaType" : "pull",
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : false,
        "licensed" : true,
        "secretSourceStageId" : "2df99af5-bd29-4270-b0e8-0454b3a225eb"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "partnerkit_user_filter"
      }
    } ],
    "features" : {
      "partnerkit" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : true
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit",
        "params" : { },
        "enabled" : true
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit",
        "params" : { },
        "enabled" : true
      } ],
      "partnerkit_bpr_item_recs" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_bpr_item_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_bpr_item_recs",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_bpr_item_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_bpr_item_recs",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_bpr_user_recs" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_bpr_user_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_bpr_user_recs",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_bpr_user_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_bpr_user_recs",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_content_recs" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_content_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_content_recs",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_content_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_content_recs",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_items_for_item_recommendations" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_items_for_item_recommendations",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_items_for_user_recommendations" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_items_for_user_recommendations",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_job_reports" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_job_reports",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_job_reports",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_job_reports",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_job_reports",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_queries_query_recs" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_queries_query_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_queries_query_recs",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_queries_query_recs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_queries_query_recs",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_query_rewrite" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_query_rewrite",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_query_rewrite",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_query_rewrite",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_query_rewrite",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_query_rewrite_staging" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_query_rewrite_staging",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_recommender_models" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_recommender_models",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_recommender_models",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_recommender_models",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_recommender_models",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_recs_aggr" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_recs_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_recs_aggr",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_recs_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_recs_aggr",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_signals" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_signals",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_signals",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_signals",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_signals",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_signals_aggr" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_signals_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_signals_aggr",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_signals_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_signals_aggr",
        "params" : { },
        "enabled" : false
      } ],
      "partnerkit_user_prefs" : [ {
        "name" : "partitionByTime",
        "collectionId" : "partnerkit_user_prefs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "partnerkit_user_prefs",
        "params" : {
          "idField" : "id",
          "itemsForItem" : true,
          "queriesForQuery" : true,
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "content" : true
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "partnerkit_user_prefs",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "partnerkit_user_prefs",
        "params" : { },
        "enabled" : false
      } ]
    },
    "indexProfiles" : [ {
      "id" : "partnerkit",
      "parser" : "partnerkit",
      "indexPipeline" : "partnerkit",
      "collection" : "partnerkit",
      "params" : [ ]
    } ],
    "queryProfiles" : [ {
      "id" : "partnerkit",
      "queryPipeline" : "partnerkit",
      "searchHandler" : "/select",
      "collection" : "partnerkit"
    }, {
      "id" : "partnerkit_popular_global_clicks",
      "queryPipeline" : "partnerkit_signals_documents",
      "searchHandler" : "select",
      "collection" : "partnerkit_signals_aggr",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "sort",
        "value" : "aggr_count_i desc",
        "policy" : "replace"
      }, {
        "key" : "fq",
        "value" : "click@doc_id,filters,query",
        "policy" : "append"
      }, {
        "key" : "rows",
        "value" : "5",
        "policy" : "replace"
      } ]
    }, {
      "id" : "partnerkit_popular_global_searches",
      "queryPipeline" : "partnerkit_signals_query_facet",
      "searchHandler" : "select",
      "collection" : "partnerkit_signals",
      "additionalProperties" : { }
    }, {
      "id" : "partnerkit_popular_user_searches",
      "queryPipeline" : "partnerkit_user_filter",
      "searchHandler" : "select",
      "collection" : "partnerkit_recs_aggr",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "sort",
        "value" : "weight_d desc",
        "policy" : "replace"
      }, {
        "key" : "filter.user_id",
        "value" : "true",
        "policy" : "append"
      }, {
        "key" : "facet.field",
        "value" : "query_s",
        "policy" : "append"
      }, {
        "key" : "facet",
        "value" : "true",
        "policy" : "replace"
      }, {
        "key" : "facet.limit",
        "value" : "5",
        "policy" : "append"
      }, {
        "key" : "facet.mincount",
        "value" : "1",
        "policy" : "append"
      }, {
        "key" : "fq",
        "value" : "aggr_type_s:click@query,user_id",
        "policy" : "append"
      }, {
        "key" : "fq",
        "value" : "-query_s:/\\*:\\*/",
        "policy" : "append"
      } ]
    }, {
      "id" : "partnerkit_recent_user_clicks",
      "queryPipeline" : "partnerkit_signals_clicks_by_user",
      "searchHandler" : "select",
      "collection" : "partnerkit_signals",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "filter.user_id",
        "value" : "true",
        "policy" : "replace"
      }, {
        "key" : "rows",
        "value" : "10",
        "policy" : "replace"
      }, {
        "key" : "sort",
        "value" : "timestamp_tdt desc",
        "policy" : "replace"
      }, {
        "key" : "fq",
        "value" : "-query:/\\*\\:\\*/",
        "policy" : "append"
      }, {
        "key" : "fq",
        "value" : "-query:/\\*/",
        "policy" : "append"
      } ]
    }, {
      "id" : "partnerkit_recent_user_searches",
      "queryPipeline" : "partnerkit_signals_queries_by_user",
      "searchHandler" : "select",
      "collection" : "partnerkit_signals",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "sort",
        "value" : "timestamp_tdt desc",
        "policy" : "replace"
      }, {
        "key" : "fq",
        "value" : "-query:/\\*\\:\\*/",
        "policy" : "append"
      }, {
        "key" : "fq",
        "value" : "-query:/\\*/",
        "policy" : "append"
      }, {
        "key" : "filter.user_id",
        "value" : "true",
        "policy" : "append"
      }, {
        "key" : "group",
        "value" : "true",
        "policy" : "append"
      }, {
        "key" : "group.field",
        "value" : "query",
        "policy" : "append"
      }, {
        "key" : "fq",
        "value" : "query:*",
        "policy" : "append"
      } ]
    }, {
      "id" : "partnerkit_recommendation_items_for_item_bpr",
      "queryPipeline" : "partnerkit_items_for_item_bpr_recommendations",
      "searchHandler" : "select",
      "collection" : "partnerkit_bpr_item_recs",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "rows",
        "value" : "5",
        "policy" : "replace"
      } ]
    }, {
      "id" : "partnerkit_recommendation_items_for_item_content",
      "queryPipeline" : "partnerkit_content_recs",
      "searchHandler" : "select",
      "collection" : "partnerkit_content_recs",
      "additionalProperties" : { }
    }, {
      "id" : "partnerkit_recommendation_items_for_user_bpr",
      "queryPipeline" : "partnerkit_items_for_user_bpr_recommendations",
      "searchHandler" : "select",
      "collection" : "partnerkit_bpr_user_recs",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "filter.user_id",
        "value" : "true",
        "policy" : "append"
      } ]
    }, {
      "id" : "partnerkit_recommendation_queries_for_query",
      "queryPipeline" : "partnerkit_queries_query_recs",
      "searchHandler" : "select",
      "collection" : "partnerkit_queries_query_recs",
      "additionalProperties" : { }
    }, {
      "id" : "partnerkit_rules_simulator",
      "queryPipeline" : "partnerkit",
      "searchHandler" : "/select",
      "collection" : "partnerkit",
      "params" : [ {
        "key" : "lw.rules.simulate",
        "value" : "partnerkit_query_rewrite_staging",
        "policy" : "default"
      }, {
        "key" : "lw.rules.debug",
        "value" : "1",
        "policy" : "default"
      }, {
        "key" : "lw.tagger.debug",
        "value" : "1",
        "policy" : "default"
      }, {
        "key" : "lw.skip_response_signal",
        "value" : "1",
        "policy" : "default"
      } ]
    }, {
      "id" : "partnerkit_typeahead",
      "queryPipeline" : "partnerkit_typeahead",
      "searchHandler" : "select",
      "collection" : "partnerkit",
      "additionalProperties" : { },
      "params" : [ {
        "key" : "rows",
        "value" : "3",
        "policy" : "default"
      }, {
        "key" : "echoParams",
        "value" : "none",
        "policy" : "append"
      } ]
    } ],
    "parsers" : [ {
      "id" : "partnerkit",
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "archive",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "da9581a9-ab20-46e2-8a9c-35da66703258",
        "alwaysDetect" : true,
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "54682b89-64e9-48c4-ada2-bd43319c8017",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "json",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "1ca47029-0932-4b88-9768-27e128ebd78e",
        "splitArrays" : true,
        "includePath" : false,
        "mappings" : [ ],
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "xml",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "19abc660-2a02-4543-a28e-ea82e1f87913",
        "rootPaths" : [ "/" ],
        "maxSize" : 65536,
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "html",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "5cc19292-73f0-4364-b7fa-dbd5bc55d006",
        "charset" : "detect",
        "excludeFilters" : [ ],
        "filterBeforeMapping" : false,
        "filterBeforeExtractingLinks" : false,
        "mappings" : [ ],
        "keepParent" : true,
        "extractHtmlLinks" : false,
        "extractBodyText" : true,
        "metatagsPrefix" : "",
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "text",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "ee1e2305-9a6c-4cff-bf86-ee07721d4f5e",
        "charset" : "detect",
        "ignoreBOM" : false,
        "maxLength" : 1048576,
        "maxLineLength" : 1048576,
        "outputField" : "body",
        "splitLines" : false,
        "skipEmptyLines" : false,
        "skipHeaderLines" : 0,
        "trimWhitespace" : false,
        "commentHandling" : "include",
        "comment" : "#",
        "commentField" : "comment",
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "tika",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "82e1260f-3087-402b-adf7-32322993985d",
        "includeImages" : false,
        "flattenCompound" : true,
        "addFailedDocs" : false,
        "addOriginalContent" : false,
        "contentEncoding" : "binary",
        "returnXml" : false,
        "keepOriginalStructure" : false,
        "extractHtmlLinks" : false,
        "extractOtherLinks" : false,
        "excludeContentTypes" : [ ],
        "zipBombCompressionRatio" : 200,
        "zipBombMaxDepth" : 200,
        "zipBombMaxPackageEntryDepth" : 20,
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      }, {
        "type" : "fallback",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "4fb88c6b-54f3-45e8-b410-5de19f00c035",
        "metadataOnly" : false,
        "maxBytesToKeep" : 1048576,
        "inheritMediaTypes" : true,
        "ignoredMediaTypes" : [ ],
        "outputFieldPrefix" : ""
      } ],
      "detectMediaTypeBasedOnExtension" : true,
      "enableMediaTypeDetection" : true,
      "maxFieldLength" : -1
    } ],
    "objectGroups" : [ {
      "id" : "0fc21d29-a997-4a2e-9524-f42b2b623751",
      "name" : "items-for-item-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating items-for-item recommendations for 'partnerkit'"
    }, {
      "id" : "2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "name" : "bpr-items-for-user-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating bpr-items-for-user recommendations for 'partnerkit'"
    }, {
      "id" : "55ee4a19-2d52-461f-bcc6-15877255d77c",
      "name" : "items-for-user-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating items-for-user recommendations for 'partnerkit'"
    }, {
      "id" : "8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "name" : "bpr-items-for-item-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating bpr-items-for-item recommendations for 'partnerkit'"
    }, {
      "id" : "948f2ad1-e801-436e-ba71-6031148c321c",
      "name" : "content-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating content recommendations for 'partnerkit'"
    }, {
      "id" : "9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "name" : "signals-partnerkit",
      "isSystem" : true,
      "description" : "Collection 'partnerkit' objects for signals support"
    }, {
      "id" : "b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "name" : "recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Recommendations for 'partnerkit'"
    }, {
      "id" : "d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "name" : "queries-for-query-recommendations-partnerkit",
      "isSystem" : true,
      "description" : "Objects facilitating queries-for-query recommendations for 'partnerkit'"
    } ],
    "links" : [ {
      "subject" : "app:partnerkit",
      "object" : "group:_shared",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit._lw_tmp_1605772064",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit._lw_tmp_1606264395",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit.instantresult",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit.partnerkit_content_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit.partnerkit_items_for_item_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit.typeahead",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_bpr_item_recs._lw_tmp_1605510308",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_bpr_item_recs.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_bpr_item_recs.partnerkit_items_for_item_bpr_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_bpr_user_recs.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_bpr_user_recs.partnerkit_items_for_user_bpr_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_content_recs.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_content_recs.partnerkit_content_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_items_for_item_recommendations.partnerkit_items_for_item_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_queries_query_recs.partnerkit_queries_query_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_recommender_models.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_recs_aggr.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_recs_aggr.typeahead",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals._lw_tmp_1605485740",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals._lw_tmp_1605775343",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals._system",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals.signals_queries_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals.signals_recent_clicks_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals_aggr._lw_tmp_1605500796",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals_aggr._system",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals_aggr.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_signals_aggr.signals_queries_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_user_prefs._lw_tmp_1605572591",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-partnerkit_user_prefs.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead.typeahead",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead_signals._system",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead_signals.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead_signals.signals_queries_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead_signals_aggr._lw_tmp_1605495664",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:prefs-typeahead_signals_aggr.partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "collection:partnerkit_job_reports",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "collection:partnerkit_query_rewrite",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "collection:partnerkit_query_rewrite_staging",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "collection:partnerkit_user_prefs",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "index-pipeline:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "index-pipeline:partnerkit-question-answering",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "index-pipeline:partnerkit-question-answering-dual-fields",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "index-profile:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "query-pipeline:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "query-pipeline:partnerkit-question-answering",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit",
      "object" : "query-pipeline:partnerkit-question-answering-dual-fields",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit_job_reports",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit_query_rewrite",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit_query_rewrite_staging",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit_query_rewrite_staging",
      "object" : "index-pipeline:partnerkit_query_rewrite_staging",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:partnerkit_user_prefs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:web",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:web",
      "object" : "collection:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "datasource:web",
      "object" : "index-pipeline:partnerkit",
      "linkType" : "dependsOn",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "datasource:web",
      "object" : "parser:partnerkit",
      "linkType" : "dependsOn",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "collection:partnerkit_items_for_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "query-pipeline:partnerkit_items_for_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:0fc21d29-a997-4a2e-9524-f42b2b623751",
      "object" : "spark:partnerkit_item_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "object" : "collection:partnerkit_bpr_user_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:2b69b940-261b-4b69-bac4-b68bf4da5f32",
      "object" : "spark:partnerkit_bpr_item_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "collection:partnerkit_items_for_user_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "query-pipeline:partnerkit_items_for_user_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:55ee4a19-2d52-461f-bcc6-15877255d77c",
      "object" : "spark:partnerkit_item_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "object" : "collection:partnerkit_bpr_item_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:8ded22be-b915-44d6-8c8a-1026a45a5e3d",
      "object" : "spark:partnerkit_bpr_item_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:948f2ad1-e801-436e-ba71-6031148c321c",
      "object" : "collection:partnerkit_content_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:948f2ad1-e801-436e-ba71-6031148c321c",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:948f2ad1-e801-436e-ba71-6031148c321c",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:948f2ad1-e801-436e-ba71-6031148c321c",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:948f2ad1-e801-436e-ba71-6031148c321c",
      "object" : "spark:partnerkit_content_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "collection:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "spark:partnerkit_click_signals_aggregation",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "spark:partnerkit_head_tail",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:9f7d7606-9e4b-47f6-b2ef-93960d9b6a1a",
      "object" : "spark:partnerkit_session_rollup",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "object" : "collection:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "object" : "collection:partnerkit_recommender_models",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "object" : "collection:partnerkit_recs_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "object" : "spark:partnerkit_user_item_prefs_agg",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "object" : "spark:partnerkit_user_query_history_agg",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "collection:partnerkit_queries_query_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "collection:partnerkit_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "group:b936cc46-f8c0-41de-95eb-ee17d711ff14",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "query-pipeline:partnerkit_queries_query_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d9fe56b2-611f-42c3-b13a-a2d4ac6591d2",
      "object" : "spark:partnerkit_query_recs",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:partnerkit-question-answering",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:partnerkit-question-answering-dual-fields",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:partnerkit_query_rewrite_staging",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:partnerkit",
      "object" : "index-pipeline:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "parser:partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit-question-answering",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit-question-answering-dual-fields",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_content_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_items_for_item_bpr_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_items_for_item_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_items_for_user_bpr_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_items_for_user_recommendations",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_queries_query_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_signals_clicks_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_signals_documents",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_signals_queries_by_user",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_signals_query_facet",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_typeahead",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:partnerkit_user_filter",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit",
      "object" : "collection:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit",
      "object" : "query-pipeline:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_clicks",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_clicks",
      "object" : "collection:partnerkit_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_clicks",
      "object" : "query-pipeline:partnerkit_signals_documents",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_searches",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_searches",
      "object" : "collection:partnerkit_signals",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_global_searches",
      "object" : "query-pipeline:partnerkit_signals_query_facet",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_user_searches",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_popular_user_searches",
      "object" : "collection:partnerkit_recs_aggr",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_popular_user_searches",
      "object" : "query-pipeline:partnerkit_user_filter",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_clicks",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_clicks",
      "object" : "collection:partnerkit_signals",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_clicks",
      "object" : "query-pipeline:partnerkit_signals_clicks_by_user",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_searches",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_searches",
      "object" : "collection:partnerkit_signals",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recent_user_searches",
      "object" : "query-pipeline:partnerkit_signals_queries_by_user",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_bpr",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_bpr",
      "object" : "collection:partnerkit_bpr_item_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_bpr",
      "object" : "query-pipeline:partnerkit_items_for_item_bpr_recommendations",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_content",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_content",
      "object" : "collection:partnerkit_content_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_item_content",
      "object" : "query-pipeline:partnerkit_content_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_user_bpr",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_user_bpr",
      "object" : "collection:partnerkit_bpr_user_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_items_for_user_bpr",
      "object" : "query-pipeline:partnerkit_items_for_user_bpr_recommendations",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_queries_for_query",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_queries_for_query",
      "object" : "collection:partnerkit_queries_query_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_recommendation_queries_for_query",
      "object" : "query-pipeline:partnerkit_queries_query_recs",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_rules_simulator",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_rules_simulator",
      "object" : "collection:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_rules_simulator",
      "object" : "query-pipeline:partnerkit",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_typeahead",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:partnerkit_typeahead",
      "object" : "collection:partnerkit_recs_aggr",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "query-profile:partnerkit_typeahead",
      "object" : "query-pipeline:partnerkit_typeahead",
      "linkType" : "relatesTo",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "spark:deploy-answer-extractor",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_click_signals_aggregation",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_content_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_phrase_extraction",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_query_recs",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_query_recs",
      "object" : "blob:stopwords/stopwords_en.txt",
      "linkType" : "dependsOn",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "spark:partnerkit_spell_correction",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_synonym_detection",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_user_item_prefs_agg",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:partnerkit_user_query_history_agg",
      "object" : "app:partnerkit",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    } ],
    "sparkJobs" : [ {
      "id" : "deploy-answer-extractor",
      "useCustomScript" : false,
      "modelDockerRepo" : "lucidworks",
      "modelReplicas" : 1,
      "modelDockerImage" : "answer-extractor:v1.0",
      "columnNames" : "[answer,score,start,end]",
      "workflowName" : "argo-deploy-model-workflow",
      "deployModelName" : "answer-extractor",
      "type" : "argo-deploy-model"
    }, {
      "id" : "partnerkit_bpr_item_recs",
      "numTestUserClicks" : 1,
      "trainingDataFilterQuery" : "aggr_id_s:partnerkit_user_item_prefs_agg",
      "itemMetadataFormat" : "solr",
      "performANN" : true,
      "itemIdField" : "doc_id_s",
      "trainingFormat" : "solr",
      "type" : "argo-item-recommender-user",
      "useCustomScript" : false,
      "filterClicked" : true,
      "outputUserRecsCollection" : "partnerkit_bpr_user_recs",
      "numSimsPerItem" : 10,
      "numRecsPerUser" : 10,
      "weightField" : "weight_d",
      "outputFormat" : "solr",
      "minNumClickedProducts" : 2,
      "outputBatchSize" : "15000",
      "workflowName" : "argo-item-recommender-user-workflow",
      "deleteOldRecs" : true,
      "maxNumTestUsers" : 10000,
      "learningRate" : 0.05,
      "factors" : 100,
      "randomSeed" : 12345,
      "userIdField" : "user_id_s",
      "trainingCollection" : "partnerkit_recs_aggr",
      "minNumItemUniqueClicks" : 2,
      "trainingSampleFraction" : 1.0,
      "epochs" : 30,
      "outputItemSimCollection" : "partnerkit_bpr_item_recs"
    }, {
      "id" : "partnerkit_click_signals_aggregation",
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      } ],
      "notes" : "Computes an aggregated weight for each query / item combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used to boost documents at query time using the boosting stage.",
      "sourceRemove" : false,
      "optimizeSegments" : 0,
      "type" : "sql_template",
      "outputCollection" : "partnerkit_signals_aggr",
      "sql" : "WITH sigs_with_filters AS (\n   SELECT c.query as query,\n          c.doc_id,\n          q.filters_s as filters,\n          c.type,\n          c.ref_time,\n          coalesce(c.count_i,1) as count_i,\n          c.timestamp_tdt,\n          coalesce(c.weight_d,0.1) as weight_d\n     FROM ${inputCollection} c\n LEFT JOIN (SELECT id, filters_s FROM ${inputCollection} WHERE type='response') q ON q.id = c.fusion_query_id\n    WHERE c.type IN (${signalTypes}) AND c.timestamp_tdt >= c.catchup_timestamp_tdt\n ), signal_type_groups AS (\n     SELECT SUM(count_i) AS typed_aggr_count_i,\n            query,\n            doc_id,\n            type,\n            filters,\n            time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n       FROM sigs_with_filters\n   GROUP BY doc_id, query, filters, type\n ) SELECT concat_ws('|', query, doc_id, filters) as id,\n          SUM(typed_aggr_count_i) AS aggr_count_i,\n          query AS query_s,\n          query AS query_t,\n          doc_id AS doc_id_s,\n          filters AS filters_s,\n          SPLIT(filters, ' \\\\$ ') AS filters_ss,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY query, doc_id, filters",
      "useNaturalKey" : true,
      "sourceCatchup" : true,
      "rollupSql" : "SELECT concat_ws('|', query_s, doc_id_s, filters_s) as id,\n  query_s,\n  query_s as query_t,\n  doc_id_s,\n  filters_s,\n  first(aggr_type_s) AS aggr_type_s,\n  SPLIT(filters_s, ' \\\\$ ') AS filters_ss,\n  SUM(weight_d) AS weight_d,\n  SUM(aggr_count_i) AS aggr_count_i\n  FROM partnerkit_signals_aggr\n  GROUP BY query_s, doc_id_s, filters_s",
      "skipCheckEnabled" : true,
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "click:1.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "inputCollection" : "partnerkit_signals"
    }, {
      "id" : "partnerkit_content_recs",
      "vectorizationTfidfMaxDf" : 1.0,
      "trainingDataFilterQuery" : "*:*",
      "performANN" : true,
      "vectorizationDlEnsembleWeight" : 1.0,
      "itemIdField" : "id",
      "vectorizationTfidfEnsembleWeight" : 1.0,
      "trainingFormat" : "solr",
      "type" : "argo-item-recommender-content",
      "outputCollection" : "partnerkit_content_recs",
      "vectorizationTfidfFilterStopwords" : true,
      "vectorizationFasttextEnsembleWeight" : 1.0,
      "useCustomScript" : false,
      "vectorizationFasttextEpochs" : 15,
      "vectorizationFasttextMinCount" : 1,
      "numSimsPerItem" : 10,
      "vectorizationFasttextMinNgram" : 3,
      "unidecodeText" : true,
      "outputFormat" : "solr",
      "vectorizationFasttextVectorsSize" : 150,
      "topKAnn" : 100,
      "vectorizationFasttextSkipGram" : true,
      "vectorizationFasttextUseSubwordNgram" : true,
      "vectorizationTfidfMaxNgram" : 3,
      "lowercaseText" : true,
      "workflowName" : "argo-item-recommender-content-workflow",
      "deleteOldRecs" : true,
      "vectorizationFasttextMaxNgram" : 6,
      "contentField" : [ "body_t" ],
      "randomSeed" : 12345,
      "vectorizationTfidfMinNgram" : 1,
      "trainingCollection" : "partnerkit",
      "trainingSampleFraction" : 1.0,
      "batchSize" : "15000",
      "vectorizationUseDl" : true,
      "vectorizationFasttextWindowSize" : 5
    }, {
      "id" : "partnerkit_head_tail",
      "trainingDataSamplingFraction" : 1.0,
      "trainingDataFilterQuery" : "*:*",
      "headQueryCntBoost" : 1.0,
      "minCountFilter" : 20,
      "countField" : "count_i",
      "enableAutoPublish" : false,
      "type" : "headTailAnalysis",
      "outputCollection" : "partnerkit_job_reports",
      "fieldToVectorize" : "query",
      "userHead" : -1.0,
      "tailRewriteCollection" : "partnerkit_query_rewrite_staging",
      "signalTypeField" : "type",
      "userTail" : -1.0,
      "dataFormat" : "solr",
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"StdTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"standard\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"englishminimalstem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"StdTokLowerStem\" } ]}",
      "topQ" : [ 100.0, 0.01 ],
      "mainType" : "click",
      "sparkPartitions" : 200,
      "overlapThreshold" : 4,
      "sparkSQL" : "SELECT * from spark_input",
      "randomSeed" : 1234,
      "dataOutputFormat" : "solr",
      "overlapNumBoost" : 10.0,
      "trainingCollection" : "partnerkit_signals",
      "minCountMain" : 1,
      "lastTraffic" : [ 0.01 ],
      "trafficCount" : [ 5.0 ],
      "filterType" : "response",
      "queryLenThreshold" : 2,
      "lenScale" : 6,
      "tailRewrite" : true,
      "overwriteOutput" : true,
      "trafficPerc" : [ 0.25, 0.5, 0.75 ]
    }, {
      "id" : "partnerkit_item_recs",
      "trainingDataFilterQuery" : "aggr_id_s:partnerkit_user_item_prefs_agg",
      "modelId" : "partnerkit_recommender",
      "popularItemMin" : 2,
      "itemIdField" : "doc_id_s",
      "implicitRatings" : true,
      "type" : "als_recommender",
      "outputCollection" : "partnerkit_items_for_user_recommendations",
      "initialLambda" : 0.01,
      "sparkConfig" : [ ],
      "alwaysTrain" : false,
      "maxTrainingIterations" : 10,
      "initialRank" : 100,
      "saveModel" : false,
      "initialAlpha" : 50.0,
      "numSims" : 10,
      "itemMetadataFields" : [ ],
      "weightField" : "weight_d",
      "initialBlocks" : -1,
      "writeOptions" : [ ],
      "itemMetadataJoinField" : "doc_id_s",
      "trainingDataFrameConfigOptions" : { },
      "gridSearchWidth" : 0,
      "dataFormat" : "solr",
      "deleteOldRecs" : true,
      "randomSeed" : 13,
      "numRecs" : 10,
      "userIdField" : "user_id_s",
      "trainingCollection" : "partnerkit_recs_aggr",
      "numUserRecsPerItem" : 10,
      "modelCollection" : "partnerkit_recommender_models",
      "trainingSampleFraction" : 1.0,
      "outputItemSimCollection" : "partnerkit_items_for_item_recommendations"
    }, {
      "id" : "partnerkit_phrase_extraction",
      "sourceFields" : "query",
      "trainingDataSamplingFraction" : 1.0,
      "minmatch" : 100,
      "trainingDataFilterQuery" : "*:*",
      "dataFormat" : "solr",
      "enableAutoPublish" : false,
      "type" : "sip",
      "outputCollection" : "partnerkit_query_rewrite_staging",
      "sparkPartitions" : 200,
      "sparkSQL" : "SELECT * from spark_input",
      "randomSeed" : 8180,
      "fieldToVectorize" : "query",
      "dataOutputFormat" : "solr",
      "ngramSize" : 3,
      "trainingCollection" : "partnerkit_signals",
      "attachPhrases" : false,
      "analyzerConfig" : "{ \"analyzers\": [{ \"name\": \"StdTokLowerStop\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"standard\" },\"filters\": [{ \"type\": \"lowercase\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"StdTokLowerStop\" } ]}",
      "overwriteOutput" : true
    }, {
      "id" : "partnerkit_query_recs",
      "docIdField" : "doc_id",
      "minPairOccCount" : 2,
      "trainingDataSamplingFraction" : 1.0,
      "trainingDataFilterQuery" : "*:*",
      "minQueryLength" : 3,
      "stopwordsBlobName" : "stopwords/stopwords_en.txt",
      "dataFormat" : "solr",
      "overlapEnabled" : true,
      "sessionIdField" : "user_id",
      "countField" : "count_i",
      "type" : "similar_queries",
      "outputCollection" : "partnerkit_queries_query_recs",
      "overlapThreshold" : 0.3,
      "tokenOverlapValue" : 0.0,
      "sparkSQL" : "SELECT * from spark_input",
      "fieldToVectorize" : "query_t",
      "randomSeed" : 1234,
      "dataOutputFormat" : "solr",
      "minQueryCount" : 2,
      "trainingCollection" : "partnerkit_signals",
      "specialCharsFilterString" : "~!@#$^%&*\\(\\)_+={}\\[\\]|;:\"'<,>.?`/\\\\-",
      "maxQueryLength" : 50,
      "overwriteOutput" : false
    }, {
      "id" : "partnerkit_session_rollup",
      "hiddenParameters" : [ {
        "key" : "outputProjectedFieldsOnly",
        "value" : "true"
      } ],
      "notes" : "Aggregate related user activity into a session signal containing activity count, duration, and keywords (based on user search terms). This job is used by the Fusion Insights application to show reports about user sessions. Use the 'elapsedSecsSinceLastActivity' and 'elapsedSecsSinceSessionStart' parameters to determine when a user session is considered to be complete.",
      "sourceRemove" : false,
      "optimizeSegments" : 0,
      "type" : "sql_template",
      "outputCollection" : "partnerkit_signals",
      "sql" : "WITH session_agg AS (\n     SELECT COUNT(1) AS activity_count,\n            MIN(timestamp_tdt) AS start,\n            MAX(timestamp_tdt) AS end,\n            timediff(MAX(timestamp_tdt), MIN(timestamp_tdt), \"MINUTES\") AS duration,\n            'session' AS type,\n            first(user_id) AS user,\n            session_keywords(query) AS keywords,\n            session\n       FROM ${inputCollection}\n      WHERE timestamp_tdt IS NOT NULL\n        AND type != 'session'\n        AND session IS NOT NULL\n        AND session NOT IN (SELECT session FROM ${inputCollection} WHERE type = 'session' AND session IS NOT NULL)\n   GROUP BY session\n     HAVING timediff(current_timestamp(), MAX(timestamp_tdt), \"SECONDS\") >= ${elapsedSecsSinceLastActivity} OR timediff(current_timestamp(), MIN(timestamp_tdt), \"SECONDS\") >= ${elapsedSecsSinceSessionStart})\n SELECT activity_count, start, end, duration, type, user, keywords, session FROM session_agg",
      "useNaturalKey" : true,
      "sourceCatchup" : false,
      "skipCheckEnabled" : false,
      "parameters" : [ {
        "key" : "elapsedSecsSinceLastActivity",
        "value" : "360"
      }, {
        "key" : "elapsedSecsSinceSessionStart",
        "value" : "3600"
      } ],
      "selectQuery" : "*:*",
      "inputCollection" : "partnerkit_signals"
    }, {
      "id" : "partnerkit_spell_correction",
      "corMisRatio" : 3.0,
      "trainingDataSamplingFraction" : 1.0,
      "trainingDataFilterQuery" : "*:*",
      "correctCntBoost" : 2.0,
      "misspellingThreshold" : 0.8,
      "minCountFilter" : 10,
      "countField" : "count_i",
      "enableAutoPublish" : false,
      "type" : "tokenPhraseSpellCorrection",
      "outputCollection" : "partnerkit_query_rewrite_staging",
      "fieldToVectorize" : "query",
      "signalDataIndicator" : true,
      "analyzerConfigDictionary" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "editDistBoost" : 2.0,
      "minPrefix" : 1,
      "soundMatchBoost" : 3.0,
      "signalTypeField" : "type",
      "dataFormat" : "solr",
      "lastCharMatchBoost" : 1.0,
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "maxDistance" : 2,
      "mainType" : "click",
      "sparkPartitions" : 200,
      "dictionaryDataFilterQuery" : "*:*",
      "sparkSQL" : "SELECT * from spark_input",
      "randomSeed" : 1234,
      "correctionThreshold" : 0.8,
      "dataOutputFormat" : "solr",
      "trainingCollection" : "partnerkit_signals",
      "minCountMain" : 1,
      "minMispellingLen" : 5,
      "lenScale" : 5,
      "filterType" : "response",
      "overwriteOutput" : true
    }, {
      "id" : "partnerkit_synonym_detection",
      "docIdField" : "doc_id_s",
      "trainingDataSamplingFraction" : 1.0,
      "trainingDataFilterQuery" : "*:*",
      "similarityThreshold" : 0.01,
      "countField" : "aggr_count_i",
      "enableAutoPublish" : false,
      "type" : "synonymDetection",
      "outputCollection" : "partnerkit_query_rewrite_staging",
      "fieldToVectorize" : "query_s",
      "misspellingsFilterQuery" : "type:spell",
      "misspellingSQL" : "\nSELECT surface_form AS misspelling_s, output AS correction_s\nFROM spell_input\nWHERE doc_type  = 'query_rewrite' AND type = 'spell' AND (review = 'approved' OR review = 'auto')\n\n    ",
      "dataFormat" : "solr",
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "keyPhraseFilterQuery" : "type:phrase",
      "sparkPartitions" : 200,
      "overlapThreshold" : 0.5,
      "sparkSQL" : "SELECT * from spark_input",
      "phraseSQL" : "\nSELECT surface_form AS phrases_s, coalesce(confidence, 1) AS likelihood_d, coalesce(word_count,1) AS word_num_i\nFROM phrase_input\nWHERE doc_type  = 'query_rewrite' AND type = 'phrase' AND (review = 'approved' OR review = 'auto')\n\n    ",
      "phraseSQLDataFormat" : "solr",
      "randomSeed" : 1234,
      "dataOutputFormat" : "solr",
      "minQueryCount" : 5,
      "misspellingSQLDataFormat" : "solr",
      "trainingCollection" : "partnerkit_signals_aggr",
      "keyPhraseCollection" : "partnerkit_query_rewrite_staging",
      "misspellingCollection" : "partnerkit_query_rewrite_staging",
      "overwriteOutput" : true
    }, {
      "id" : "partnerkit_user_item_prefs_agg",
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      } ],
      "notes" : "Computes an aggregated weight for each user / item combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used as input to the ALS recommendation job.",
      "sourceRemove" : false,
      "optimizeSegments" : 0,
      "type" : "sql_template",
      "outputCollection" : "partnerkit_recs_aggr",
      "sql" : "WITH signal_type_groups AS (\n    SELECT SUM(count_i) AS typed_aggr_count_i,\n           doc_id,\n           user_id,\n           type,\n           time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n      FROM ${inputCollection}\n     WHERE type IN (${signalTypes})\n  GROUP BY user_id, doc_id, type\n ) SELECT SUM(typed_aggr_count_i) AS aggr_count_i,\n          doc_id AS doc_id_s,\n          user_id AS user_id_s,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY doc_id, user_id",
      "useNaturalKey" : true,
      "sourceCatchup" : true,
      "skipCheckEnabled" : true,
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "click:1.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "inputCollection" : "partnerkit_signals"
    }, {
      "id" : "partnerkit_user_query_history_agg",
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      } ],
      "notes" : "Computes an aggregated weight for each user / query combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used to boost queries for a user based on their past queries.",
      "sourceRemove" : false,
      "optimizeSegments" : 0,
      "type" : "sql_template",
      "outputCollection" : "partnerkit_recs_aggr",
      "sql" : "WITH signal_type_groups AS (\n    SELECT SUM(count_i) AS typed_aggr_count_i,\n           user_id,\n           query,\n           type,\n           time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n      FROM ${inputCollection}\n     WHERE type IN (${signalTypes})\n  GROUP BY query, user_id, type\n ) SELECT SUM(typed_aggr_count_i) AS aggr_count_i,\n          user_id AS user_id_s,\n          query AS query_s,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY user_id, query",
      "useNaturalKey" : true,
      "sourceCatchup" : true,
      "skipCheckEnabled" : true,
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "request:1.0,click:5.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "inputCollection" : "partnerkit_signals"
    } ],
    "blobs" : [ {
      "id" : "prefs-partnerkit._lw_tmp_1605772064",
      "path" : "/prefs-partnerkit._lw_tmp_1605772064",
      "dir" : "/",
      "filename" : "prefs-partnerkit._lw_tmp_1605772064",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 7155,
      "modifiedTime" : "2020-11-19T07:47:47.342Z",
      "version" : 1683774051289399296,
      "md5" : "1f829f5163d26ad2ba72aefdd0096279",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit._lw_tmp_1606264395",
      "path" : "/prefs-partnerkit._lw_tmp_1606264395",
      "dir" : "/",
      "filename" : "prefs-partnerkit._lw_tmp_1606264395",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 7155,
      "modifiedTime" : "2020-11-25T00:33:18.188Z",
      "version" : 1684290297595428864,
      "md5" : "e27f96c351ef11485d963a61496b8ff9",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit.instantresult",
      "path" : "/prefs-partnerkit.instantresult",
      "dir" : "/",
      "filename" : "prefs-partnerkit.instantresult",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 101,
      "modifiedTime" : "2020-11-19T07:43:02.182Z",
      "version" : 1683773752277467136,
      "md5" : "a65e7b4ab2fd1b28a3d692d32f68c285",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit.partnerkit",
      "path" : "/prefs-partnerkit.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 7139,
      "modifiedTime" : "2020-11-19T07:43:02.793Z",
      "version" : 1683773752918147072,
      "md5" : "023b080205c2c5deb2ac30a611b62279",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit.partnerkit_content_recs",
      "path" : "/prefs-partnerkit.partnerkit_content_recs",
      "dir" : "/",
      "filename" : "prefs-partnerkit.partnerkit_content_recs",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 239,
      "modifiedTime" : "2020-11-23T13:16:46.114Z",
      "version" : 1684157136754442240,
      "md5" : "ff98b31fc8787f96eacf5ee4abcfa2e3",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit.partnerkit_items_for_item_recommendations",
      "path" : "/prefs-partnerkit.partnerkit_items_for_item_recommendations",
      "dir" : "/",
      "filename" : "prefs-partnerkit.partnerkit_items_for_item_recommendations",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 275,
      "modifiedTime" : "2020-11-23T12:25:23.621Z",
      "version" : 1684153904526262272,
      "md5" : "e0a78a0fcf499a7a8bdfd55bb6ebbed7",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit.typeahead",
      "path" : "/prefs-partnerkit.typeahead",
      "dir" : "/",
      "filename" : "prefs-partnerkit.typeahead",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 7773,
      "modifiedTime" : "2020-11-19T07:43:03.354Z",
      "version" : 1683773753506398208,
      "md5" : "fb22a7945708da33f5976c923f1ad7d4",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_bpr_item_recs._lw_tmp_1605510308",
      "path" : "/prefs-partnerkit_bpr_item_recs._lw_tmp_1605510308",
      "dir" : "/",
      "filename" : "prefs-partnerkit_bpr_item_recs._lw_tmp_1605510308",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 139,
      "modifiedTime" : "2020-11-19T07:43:03.853Z",
      "version" : 1683773754028589056,
      "md5" : "e652873592be3fda6101cec5a5fe36db",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_bpr_item_recs.partnerkit",
      "path" : "/prefs-partnerkit_bpr_item_recs.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_bpr_item_recs.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 123,
      "modifiedTime" : "2020-11-19T07:43:04.332Z",
      "version" : 1683773754530856960,
      "md5" : "95288d0221d18d269485022ad95ff939",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_bpr_item_recs.partnerkit_items_for_item_bpr_recommendations",
      "path" : "/prefs-partnerkit_bpr_item_recs.partnerkit_items_for_item_bpr_recommendations",
      "dir" : "/",
      "filename" : "prefs-partnerkit_bpr_item_recs.partnerkit_items_for_item_bpr_recommendations",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 1187,
      "modifiedTime" : "2020-11-24T10:50:52.248Z",
      "version" : 1684238554628096000,
      "md5" : "321c5e1992fc9838c1e78a677724c3bf",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_bpr_user_recs.partnerkit",
      "path" : "/prefs-partnerkit_bpr_user_recs.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_bpr_user_recs.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 123,
      "modifiedTime" : "2020-11-24T01:28:31.956Z",
      "version" : 1684203175366623232,
      "md5" : "3774848792c9ca472654ce11f2eabe22",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_bpr_user_recs.partnerkit_items_for_user_bpr_recommendations",
      "path" : "/prefs-partnerkit_bpr_user_recs.partnerkit_items_for_user_bpr_recommendations",
      "dir" : "/",
      "filename" : "prefs-partnerkit_bpr_user_recs.partnerkit_items_for_user_bpr_recommendations",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 193,
      "modifiedTime" : "2020-11-24T10:25:40.330Z",
      "version" : 1684236969266118656,
      "md5" : "b41acb63f20e29bfaf02c9a3a726b9fa",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_content_recs.partnerkit",
      "path" : "/prefs-partnerkit_content_recs.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_content_recs.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 121,
      "modifiedTime" : "2020-11-23T12:05:06.411Z",
      "version" : 1684152628189069312,
      "md5" : "e2b85c40e0041c0d1b01107b0e0cd76f",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_content_recs.partnerkit_content_recs",
      "path" : "/prefs-partnerkit_content_recs.partnerkit_content_recs",
      "dir" : "/",
      "filename" : "prefs-partnerkit_content_recs.partnerkit_content_recs",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 787,
      "modifiedTime" : "2020-11-23T13:33:19.974Z",
      "version" : 1684158178893234176,
      "md5" : "80a66351f1341bb9fbd76e337b7565e4",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_items_for_item_recommendations.partnerkit_items_for_item_recommendations",
      "path" : "/prefs-partnerkit_items_for_item_recommendations.partnerkit_items_for_item_recommendations",
      "dir" : "/",
      "filename" : "prefs-partnerkit_items_for_item_recommendations.partnerkit_items_for_item_recommendations",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 219,
      "modifiedTime" : "2020-11-23T12:22:36.660Z",
      "version" : 1684153729454964736,
      "md5" : "59bc6b8afe836a40763b080e331cb962",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_queries_query_recs.partnerkit_queries_query_recs",
      "path" : "/prefs-partnerkit_queries_query_recs.partnerkit_queries_query_recs",
      "dir" : "/",
      "filename" : "prefs-partnerkit_queries_query_recs.partnerkit_queries_query_recs",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 1750,
      "modifiedTime" : "2020-11-23T08:35:19.793Z",
      "version" : 1684139430163513344,
      "md5" : "9a3b02dd2a1aafcd0f6b540d85cb39d0",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_recommender_models.partnerkit",
      "path" : "/prefs-partnerkit_recommender_models.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_recommender_models.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 133,
      "modifiedTime" : "2020-11-23T13:11:34.725Z",
      "version" : 1684156810239410176,
      "md5" : "514e7a1252dfe46a049164b8c430a882",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_recs_aggr.partnerkit",
      "path" : "/prefs-partnerkit_recs_aggr.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_recs_aggr.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 115,
      "modifiedTime" : "2020-11-19T07:43:05.400Z",
      "version" : 1683773755650736128,
      "md5" : "37320a0666d0a444347b27624f2c07ae",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_recs_aggr.typeahead",
      "path" : "/prefs-partnerkit_recs_aggr.typeahead",
      "dir" : "/",
      "filename" : "prefs-partnerkit_recs_aggr.typeahead",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 113,
      "modifiedTime" : "2020-11-25T02:13:59.545Z",
      "version" : 1684296632417386496,
      "md5" : "0bd8ac970de9f575dff591202b2e090b",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals._lw_tmp_1605485740",
      "path" : "/prefs-partnerkit_signals._lw_tmp_1605485740",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals._lw_tmp_1605485740",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 2228,
      "modifiedTime" : "2020-11-19T07:43:05.863Z",
      "version" : 1683773756135178240,
      "md5" : "d7b75413ec78fff2dc8bb9f0cb6577e5",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals._lw_tmp_1605775343",
      "path" : "/prefs-partnerkit_signals._lw_tmp_1605775343",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals._lw_tmp_1605775343",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 2307,
      "modifiedTime" : "2020-11-19T12:03:45.873Z",
      "version" : 1683790155874304000,
      "md5" : "827fa71aecd8dd976509ff71e5498e4c",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals._system",
      "path" : "/prefs-partnerkit_signals._system",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals._system",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 105,
      "modifiedTime" : "2020-11-19T07:43:06.367Z",
      "version" : 1683773756663660544,
      "md5" : "f5f80d7a51e2940bbb2363bd3b70d7c6",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals.partnerkit",
      "path" : "/prefs-partnerkit_signals.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 124,
      "modifiedTime" : "2020-11-24T11:06:01.984Z",
      "version" : 1684239508554383360,
      "md5" : "9cd04bf15367907981b8340034cb8019",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals.signals_queries_by_user",
      "path" : "/prefs-partnerkit_signals.signals_queries_by_user",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals.signals_queries_by_user",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 2229,
      "modifiedTime" : "2020-11-19T07:43:07.294Z",
      "version" : 1683773757636739072,
      "md5" : "447ae422e0d4f295be86c8fde5619c33",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals.signals_recent_clicks_by_user",
      "path" : "/prefs-partnerkit_signals.signals_recent_clicks_by_user",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals.signals_recent_clicks_by_user",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 3398,
      "modifiedTime" : "2020-11-23T05:54:02.326Z",
      "version" : 1684129282603876352,
      "md5" : "b26ac68555b51cf0a63eed1b3e834a86",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals_aggr._lw_tmp_1605500796",
      "path" : "/prefs-partnerkit_signals_aggr._lw_tmp_1605500796",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals_aggr._lw_tmp_1605500796",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 452,
      "modifiedTime" : "2020-11-19T07:43:07.764Z",
      "version" : 1683773758129569792,
      "md5" : "28526e2baa118bed6501575c907ffc34",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals_aggr._system",
      "path" : "/prefs-partnerkit_signals_aggr._system",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals_aggr._system",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 115,
      "modifiedTime" : "2020-11-19T07:43:08.255Z",
      "version" : 1683773758644420608,
      "md5" : "42335f373d10e0038eb3579b9ee6350b",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals_aggr.partnerkit",
      "path" : "/prefs-partnerkit_signals_aggr.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals_aggr.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 121,
      "modifiedTime" : "2020-11-19T07:43:08.712Z",
      "version" : 1683773759123619840,
      "md5" : "66b1e159187aec1cf931e5a405f824f9",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_signals_aggr.signals_queries_by_user",
      "path" : "/prefs-partnerkit_signals_aggr.signals_queries_by_user",
      "dir" : "/",
      "filename" : "prefs-partnerkit_signals_aggr.signals_queries_by_user",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 147,
      "modifiedTime" : "2020-11-23T05:03:20.307Z",
      "version" : 1684126092815761408,
      "md5" : "40d50d7e62067b2b2623c321ae91efcd",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_user_prefs._lw_tmp_1605572591",
      "path" : "/prefs-partnerkit_user_prefs._lw_tmp_1605572591",
      "dir" : "/",
      "filename" : "prefs-partnerkit_user_prefs._lw_tmp_1605572591",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 133,
      "modifiedTime" : "2020-11-19T07:43:09.175Z",
      "version" : 1683773759609110528,
      "md5" : "81a268e0afa3a2b930cc0c467b32dc29",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-partnerkit_user_prefs.partnerkit",
      "path" : "/prefs-partnerkit_user_prefs.partnerkit",
      "dir" : "/",
      "filename" : "prefs-partnerkit_user_prefs.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 117,
      "modifiedTime" : "2020-11-19T07:43:09.661Z",
      "version" : 1683773760117669888,
      "md5" : "520743e655e6cbf2e3c7a8ccbb765ed6",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead.typeahead",
      "path" : "/prefs-typeahead.typeahead",
      "dir" : "/",
      "filename" : "prefs-typeahead.typeahead",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 91,
      "modifiedTime" : "2020-11-19T07:43:10.137Z",
      "version" : 1683773760617840640,
      "md5" : "1a2b6b4846e384599a2b1ff7d9f4a852",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead_signals._system",
      "path" : "/prefs-typeahead_signals._system",
      "dir" : "/",
      "filename" : "prefs-typeahead_signals._system",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 103,
      "modifiedTime" : "2020-11-19T07:43:10.699Z",
      "version" : 1683773761207140352,
      "md5" : "4462ad298aea8ba11d95fc32c8117611",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead_signals.partnerkit",
      "path" : "/prefs-typeahead_signals.partnerkit",
      "dir" : "/",
      "filename" : "prefs-typeahead_signals.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 109,
      "modifiedTime" : "2020-11-19T07:43:11.207Z",
      "version" : 1683773761739816960,
      "md5" : "8a3a788319ef803613b3283a627ba5b1",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead_signals.signals_queries_by_user",
      "path" : "/prefs-typeahead_signals.signals_queries_by_user",
      "dir" : "/",
      "filename" : "prefs-typeahead_signals.signals_queries_by_user",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 135,
      "modifiedTime" : "2020-11-19T07:43:12.887Z",
      "version" : 1683773763501424640,
      "md5" : "073b21bd1829680a6843fd036b75573f",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead_signals_aggr._lw_tmp_1605495664",
      "path" : "/prefs-typeahead_signals_aggr._lw_tmp_1605495664",
      "dir" : "/",
      "filename" : "prefs-typeahead_signals_aggr._lw_tmp_1605495664",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 135,
      "modifiedTime" : "2020-11-19T07:43:13.325Z",
      "version" : 1683773763959652352,
      "md5" : "a29b3ad52ddc782c60018189e1410b0b",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "prefs-typeahead_signals_aggr.partnerkit",
      "path" : "/prefs-typeahead_signals_aggr.partnerkit",
      "dir" : "/",
      "filename" : "prefs-typeahead_signals_aggr.partnerkit",
      "contentType" : "text/plain;charset=UTF-8",
      "size" : 119,
      "modifiedTime" : "2020-11-19T07:43:13.811Z",
      "version" : 1683773764469260288,
      "md5" : "bf7ff0d648f545639cc8e116f12dd334",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    }, {
      "id" : "stopwords/stopwords_en.txt",
      "path" : "/stopwords/stopwords_en.txt",
      "dir" : "/stopwords",
      "filename" : "stopwords_en.txt",
      "contentType" : "text/plain",
      "size" : 2490,
      "modifiedTime" : "2020-11-19T07:22:46.209Z",
      "version" : 1683772477279305728,
      "md5" : "9eec97f3bad7bb8cefe3b1d48e734866",
      "metadata" : {
        "resourceType" : "file"
      }
    } ],
    "fusionApps" : [ {
      "id" : "partnerkit",
      "name" : "partnerkit",
      "dataUri" : "App-Tile-06-460x160.png",
      "properties" : {
        "headerImageName" : "headerImage6",
        "tileColor" : "apps-darkblue",
        "previousCollectionId" : "partnerkit"
      }
    } ],
    "dataSources" : [ {
      "id" : "web",
      "created" : "2020-11-12T02:37:07.998Z",
      "modified" : "2020-11-12T02:37:07.998Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "partnerkit",
      "parserId" : "partnerkit",
      "properties" : {
        "aliasExpiration" : 1,
        "chunkSize" : 1,
        "collection" : "partnerkit",
        "commitAfterItems" : 10000,
        "crawlDBType" : "on-disk",
        "dedupe" : false,
        "dedupeSaveSignature" : false,
        "delete" : true,
        "delete404" : true,
        "deleteErrorsAfter" : -1,
        "depth" : 4,
        "diagnosticMode" : false,
        "emitThreads" : 5,
        "f.allowAllCertificates" : false,
        "f.allowCircularRedirects" : false,
        "f.appendTrailingSlashToLinks" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.cookieSpec" : "browser-compatibility",
        "f.crawlJS" : false,
        "f.defaultCharSet" : "UTF-8",
        "f.defaultMIMEType" : "application/octet-stream",
        "f.discardLinkURLAnchors" : true,
        "f.discardLinkURLQueries" : false,
        "f.extraLoadTimeMs" : 250,
        "f.extraPageLoadDeltaChars" : 0,
        "f.filteringRootTags" : [ "body", "head" ],
        "f.firefoxHeadlessBrowser" : true,
        "f.followCanonicalTags" : false,
        "f.headlessBrowser" : true,
        "f.index_items_discarded" : false,
        "f.jsAjaxTimeout" : 20000,
        "f.jsEnabledAuth" : false,
        "f.jsPageLoadTimeout" : 20000,
        "f.jsScriptTimeout" : 20000,
        "f.maintainCookies" : false,
        "f.maxSizeBytes" : -1,
        "f.obeyCharSet" : true,
        "f.obeyLinkNofollow" : true,
        "f.obeyRobots" : true,
        "f.obeyRobotsDelay" : true,
        "f.obeyRobotsMeta" : true,
        "f.quitTimeoutMs" : 5000,
        "f.requestCounterMaxWaitMs" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "f.requestRetryCount" : 0,
        "f.respectMetaEquivRedirects" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "f.screenshotFullscreen" : false,
        "f.simulateMobile" : false,
        "f.takeScreenshot" : false,
        "f.timeoutMS" : 10000,
        "f.useFirefox" : false,
        "f.useHighPerfJsEval" : false,
        "f.useIpAddressForSslConnections" : false,
        "f.useRequestCounter" : true,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "failFastOnStartLinkFailure" : true,
        "fetchDelayMS" : 0,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "forceRefresh" : false,
        "forceRefreshClearSignatures" : true,
        "initial_mapping" : {
          "id" : "FromMap",
          "mappings" : [ {
            "operation" : "move",
            "source" : "charSet",
            "target" : "charSet_s"
          }, {
            "operation" : "move",
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt"
          }, {
            "operation" : "move",
            "source" : "lastModified",
            "target" : "lastModified_dt"
          }, {
            "operation" : "move",
            "source" : "signature",
            "target" : "dedupeSignature_s"
          }, {
            "operation" : "move",
            "source" : "length",
            "target" : "length_l"
          }, {
            "operation" : "move",
            "source" : "mimeType",
            "target" : "mimeType_s"
          }, {
            "operation" : "move",
            "source" : "parent",
            "target" : "parent_s"
          }, {
            "operation" : "move",
            "source" : "owner",
            "target" : "owner_s"
          }, {
            "operation" : "move",
            "source" : "group",
            "target" : "group_s"
          } ],
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "unmapped" : {
            "operation" : "keep",
            "source" : "not_used",
            "target" : ""
          }
        },
        "maxItems" : 1000,
        "parserRetryCount" : 0,
        "refreshAll" : true,
        "refreshErrors" : false,
        "refreshOlderThan" : -1,
        "refreshStartLinks" : false,
        "restrictToTree" : true,
        "restrictToTreeAllowSubdomains" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "restrictToTreeUseHostAndPath" : false,
        "retainOutlinks" : false,
        "retryEmit" : true,
        "sitemap_incremental_crawling" : false,
        "startLinks" : [ "https://lucidworks.com/" ],
        "trackEmbeddedIDs" : true
      }
    } ]
  },
  "metadata" : {
    "formatVersion" : "1",
    "exportedBy" : "claire",
    "exportedDate" : "2020-11-25T06:40:40.452Z",
    "fusionVersion" : "5.3.0",
    "fusionGuid" : "0a5a6383-f2b2-46df-80ea-d6be4c5b5e7b"
  }
}